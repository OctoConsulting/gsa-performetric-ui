!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/material/input"),require("@angular/material/core"),require("@angular/material/datepicker"),require("@angular/animations"),require("@ngx-formly/core/select"),require("@fortawesome/angular-fontawesome"),require("@angular/router"),require("qs"),require("ts-md5/dist/md5"),require("rxjs"),require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@ngx-formly/core"),require("@gsa-sam/components")):"function"==typeof define&&define.amd?define("@gsa-sam/sam-formly",["exports","@angular/material/input","@angular/material/core","@angular/material/datepicker","@angular/animations","@ngx-formly/core/select","@fortawesome/angular-fontawesome","@angular/router","qs","ts-md5/dist/md5","rxjs","@angular/core","@angular/common","@angular/forms","@ngx-formly/core","@gsa-sam/components"],t):t((e["gsa-sam"]=e["gsa-sam"]||{},e["gsa-sam"]["sam-formly"]={}),e.ng.material.input,e.ng.material.core,e.ng.material.datepicker,e.ng.animations,e.select,e.angularFontawesome,e.ng.router,e.qs,e.md5,e.rxjs,e.ng.core,e.ng.common,e.ng.forms,e.core$1,e.components)}(this,function(e,t,n,o,a,r,i,s,l,p,d,c,m,u,f,g){"use strict";var h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function y(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var v=function(){return(v=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,a,r=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i}(arguments[t]));return e}var C,D=(y(w,C=f.FieldWrapper),w.decorators=[{type:c.Component,args:[{selector:"sam-formly-filter-wrapper-form-field",template:'\n  <sds-accordion multi="true" displayMode="basic">\n    <sds-accordion-item class="sds-accordion__panel">\n      <sds-accordion-item-header> {{to.label}} </sds-accordion-item-header>\n      <div class="usa-form-group" [class.usa-form-group--error]="showError">\n      <label class="usa-label" *ngIf="to.label && to.hideLabel !== true" [attr.for]="id" [ngClass]="to.labelClass">\n        <span *ngIf="to.tagText" class="usa-tag"  [ngClass]="to.tagClass ? to.tagClass : \'sds-tag--info-white\'">{{to.tagText}}</span> \n        <span>{{ to.label }}</span>\n        <span *ngIf="!to.required && !to.hideOptional"> (Optional)</span>\n      </label>  \n      <small *ngIf="to.description" class="form-text text-muted">{{ to.description }}</small>\n      <ng-template #fieldComponent></ng-template>\n      <div *ngIf="showError" class="usa-error-message" [style.display]="\'block\'">\n        <formly-validation-message [field]="field"></formly-validation-message>\n      </div>\n      </div>\n    </sds-accordion-item>\n  </sds-accordion>\n  '}]}],w.propDecorators={fieldComponent:[{type:c.ViewChild,args:["fieldComponent",{read:c.ViewContainerRef}]}]},w);function w(){return null!==C&&C.apply(this,arguments)||this}var x,F=(y(O,x=f.FieldWrapper),O.decorators=[{type:c.Component,args:[{selector:"sds-formly-wrapper-form-field",template:'\n<div class="usa-form-group" [class.usa-form-group--error]="showError">\n  <label class="usa-label" *ngIf="to.label && to.hideLabel !== true" [attr.for]="id" [ngClass]="to.labelClass">\n    <span *ngIf="to.tagText" class="usa-tag"  [ngClass]="to.tagClass ? to.tagClass : \'sds-tag--info-white\'">{{to.tagText}}</span>\n    <span>{{ to.label }}</span>\n    <span *ngIf="!to.required && !to.hideOptional"> (Optional)</span>\n  </label>\n  <small *ngIf="to.description" class="form-text text-muted">{{ to.description }}</small>\n  <ng-template #fieldComponent></ng-template>\n  <div *ngIf="showError" class="usa-error-message" [style.display]="\'block\'">\n    <formly-validation-message [field]="field"></formly-validation-message>\n  </div>\n</div>\n  '}]}],O.propDecorators={fieldComponent:[{type:c.ViewChild,args:["fieldComponent",{read:c.ViewContainerRef}]}]},O);function O(){return null!==x&&x.apply(this,arguments)||this}var S,k=(y(M,S=f.FieldWrapper),M.prototype.modelHasValue=function(){return this.to.hasOwnProperty("expand")?this.to.expand:!!(this.formControl.value instanceof Object?l.stringify(this.formControl.value,{skipNulls:!0}):this.formControl.value)},M.decorators=[{type:c.Component,args:[{selector:"sam-formly-accordian-form-field",template:'\n    <sds-accordion multi="true" displayMode="basic">\n      <sds-accordion-item\n        class="sds-accordion__panel"\n        [expanded]="modelHasValue()"\n      >\n        <sds-accordion-item-header> {{ to.label }} </sds-accordion-item-header>\n        <ng-container #fieldComponent></ng-container>\n      </sds-accordion-item>\n    </sds-accordion>\n  '}]}],M.ctorParameters=function(){return[]},M.propDecorators={fieldComponent:[{type:c.ViewChild,args:["fieldComponent",{read:c.ViewContainerRef}]}]},M);function M(){return S.call(this)||this}var I,_=(y(V,I=f.FieldWrapper),V.decorators=[{type:c.Component,args:[{selector:"sam-formly-filter-wrapper-form-field",template:'\n    <div  class="wrapper-body">\n      <div class="sds-accordion__trigger header-label" [attr.aria-hidden]="to.ariaHidden ? \'false\' : \'true\'"> {{to.label}} </div>\n      <ng-container #fieldComponent></ng-container>\n    </div>\n  '}]}],V.propDecorators={fieldComponent:[{type:c.ViewChild,args:["fieldComponent",{read:c.ViewContainerRef}]}]},V);function V(){return null!==I&&I.apply(this,arguments)||this}var T,P=(y(R,T=f.FieldType),R.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-input",template:'\n  <input [class.usa-input--error]="showError" class="usa-input" [placeholder]="to.placeholder" name="input-success" [formlyAttributes]="field" [type]="to.inputType? to.inputType : \'text\'" [formControl]="formControl">\n  '}]}],R);function R(){return null!==T&&T.apply(this,arguments)||this}var E,A=(y(q,E=f.FieldType),q.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-select",template:'\n    <select *ngIf="to.multiple; else singleSelect" \n      multiple\n      [class.custom-select]="to.customSelect"\n      [formControl]="formControl"\n      [class.is-invalid]="showError"\n      [formlyAttributes]="field">\n        <ng-container *ngFor="let item of to.options | formlySelectOptions:field | async">\n         <optgroup *ngIf="item.group" label="{{item.label}}">\n            <option *ngFor="let child of item.group" [ngValue]="child.value" [disabled]="child.disabled">\n              {{ child.label }}\n            </option>\n          </optgroup>\n          <option *ngIf="!item.group" [ngValue]="item.value" [disabled]="item.disabled">{{ item.label }}</option>\n        </ng-container>\n    </select>\n    <ng-template #singleSelect>\n      <select class="usa-select"\n        [formControl]="formControl"\n        [class.custom-select]="to.customSelect"\n        [class.is-invalid]="showError"\n        [formlyAttributes]="field">\n        <option *ngIf="to.placeholder" [ngValue]="null">{{ to.placeholder }}</option>\n        <ng-container *ngFor="let item of to.options | formlySelectOptions:field | async">\n          <optgroup *ngIf="item.group" label="{{item.label}}">\n            <option *ngFor="let child of item.group" [ngValue]="child.value" [disabled]="child.disabled">\n              {{ child.label }}\n            </option>\n          </optgroup>\n          <option *ngIf="!item.group" [ngValue]="item.value" [disabled]="item.disabled">{{ item.label }}</option>\n        </ng-container>\n      </select>\n    </ng-template>\n  '}]}],q);function q(){var e=null!==E&&E.apply(this,arguments)||this;return e.defaultOptions={templateOptions:{options:[]}},e}var N,j=(y(L,N=f.FieldType),L.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-radio",template:'\n  <div class="usa-radio">\n      <div *ngFor="let option of to.options | formlySelectOptions:field | async; let i = index;">\n        <input type="radio"\n          [id]="id + \'_\' + i"\n          class="usa-radio__input"\n          [name]="id"\n          [class.usa-input--error]="showError"\n          [attr.value]="option.value"\n          [value]="option.value"\n          [formControl]="formControl"\n          [formlyAttributes]="field">\n        <label\n          class="usa-radio__label"\n          [for]="id + \'_\' + i">\n          {{ option.label }}\n        </label>\n      </div>\n    </div>\n  '}]}],L);function L(){var e=null!==N&&N.apply(this,arguments)||this;return e.defaultOptions={templateOptions:{options:[]}},e}var W,H=(y(G,W=f.FieldType),G.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-checkbox",template:'\n    <div class="usa-checkbox">\n      <input class="usa-checkbox__input" type="checkbox"\n        [class.is-invalid]="showError"\n        [indeterminate]="to.indeterminate && formControl.value === null"\n        [formControl]="formControl"\n        [formlyAttributes]="field">\n      <label class="usa-checkbox__label" [for]="id">\n        {{ to.label }}\n        <span *ngIf="!to.required && !to.hideOptional"> (Optional)</span>\n      </label>\n    </div>\n  '}]}],G);function G(){var e=null!==W&&W.apply(this,arguments)||this;return e.defaultOptions={templateOptions:{indeterminate:!0,hideLabel:!0}},e}var Y,U=(y(J,Y=f.FieldType),J.prototype.onChange=function(t,e){var n;"array"===this.to.type?this.formControl.patchValue(e?b(this.formControl.value||[],[t]):b(this.formControl.value||[]).filter(function(e){return e!==t})):this.formControl.patchValue(v({},this.formControl.value,((n={})[t]=e,n))),this.formControl.markAsTouched()},J.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-multicheckbox",template:'\n  <div class="usa-checkbox">\n    <div *ngFor="let option of to.options | formlySelectOptions:field | async; let i = index;">\n    <input type="checkbox"\n     [id]="id + \'_\' + i"\n     class="usa-checkbox__input"\n      [value]="option.value"\n      [checked]="formControl.value && (this.to.type === \'array\' ? formControl.value.includes(option.value) : formControl.value[option.value])"\n      [formlyAttributes]="field"\n      (change)="onChange(option.value, $event.target.checked)">\n    <label\n    class="usa-checkbox__label"\n    [for]="id + \'_\' + i">\n        {{ option.label }}\n    </label>\n  </div>\n</div>\n  '}]}],J);function J(){var e=null!==Y&&Y.apply(this,arguments)||this;return e.defaultOptions={templateOptions:{options:[]}},e}var $,z=(y(B,$=f.FieldType),B.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-textarea",template:'\n    <textarea [formControl]="formControl" [cols]="to.cols"\n      [rows]="to.rows" class="usa-textarea" [class.usa-input--error]="showError"\n      [formlyAttributes]="field">\n    </textarea>\n  '}]}],B);function B(){var e=null!==$&&$.apply(this,arguments)||this;return e.defaultOptions={templateOptions:{cols:1,rows:1}},e}var K,Q=(y(X,K=f.FieldType),X.prototype.ngDoCheck=function(){this.setProperties(this.template,this.field.templateOptions)},X.prototype.setProperties=function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]}),this.template.control&&(this.template.control=this.formControl),this.cdr.detectChanges()},X);function X(){return null!==K&&K.apply(this,arguments)||this}var Z,ee=(y(te,Z=Q),te.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-autocomplete",template:'\n  <sds-autocomplete [formControl]="formControl"></sds-autocomplete>\n  ',changeDetection:c.ChangeDetectionStrategy.OnPush}]}],te.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},te.propDecorators={template:[{type:c.ViewChild,args:[g.SDSAutocompleteComponent]}]},te);function te(e){var t=Z.call(this)||this;return t.cdr=e,t}var ne,oe=(y(ae,ne=f.FieldType),ae.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-datepicker",template:'\n    <input\n      [id]="id"\n      class="usa-input display-inline-block margin-top-3"\n      [class.usa-input--error]="showError"\n      [formControl]="formControl"\n      [formlyAttributes]="field"\n      matInput\n      [min]="to.minDate"\n      [max]="to.maxDate"\n      [matDatepicker]="picker"\n      placeholder="Choose a date"\n    />\n    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\n    <mat-datepicker [startAt]="to.startDate" #picker></mat-datepicker>\n  '}]}],ae);function ae(){return null!==ne&&ne.apply(this,arguments)||this}var re,ie=(y(se,re=f.FieldType),se.prototype.onClick=function(e){this.to.onClick&&this.to.onClick(e)},se.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-button",template:'\n      <button [type]="to.type" [ngClass]="\'btn btn-\' + to.btnType" (click)="onClick($event)" class="usa-button--unstyled">\n        {{ to.text }}\n      </button>\n  '}]}],se);function se(){return null!==re&&re.apply(this,arguments)||this}var le,pe=(y(de,le=Q),de.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-text",template:'\n  <sds-text [formControl]="formControl"></sds-text>\n  ',changeDetection:c.ChangeDetectionStrategy.OnPush}]}],de.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},de.propDecorators={template:[{type:c.ViewChild,args:[g.SdsTextComponent]}]},de);function de(e){var t=le.call(this)||this;return t.cdr=e,t}function ce(e,t){var n=null,o=t.templateOptions.minDate,a=e.value;return a&&o&&a instanceof Date&&o instanceof Date&&a<o&&(n=t.templateOptions.maxDate||t.templateOptions.maxDate instanceof Date?{betweenDate:!0}:{minDate:!0}),n}function me(e,t){var n=null,o=t.templateOptions.maxDate,a=e.value;return a&&o&&a instanceof Date&&o instanceof Date&&o<a&&(n=t.templateOptions.minDate||t.templateOptions.minDate instanceof Date?{betweenDate:!0}:{maxDate:!0}),n}var ue,fe=["label","description","validation"],ge=["group"],he=b(ge,fe),ye=(y(ve,ue=f.FieldWrapper),ve.prototype.hasLabel=function(){if(this.to.label&&"checkbox"!==this.field.type&&"multicheckbox"!==this.field.type)return!0},ve.decorators=[{type:c.Component,args:[{template:'\n    <div class="usa-form-group" [class.usa-form-group--error]="showError">\n      <label class="usa-label" *ngIf="hasLabel()" [attr.for]="id" [ngClass]="{\'usa-sr-only\' : to.hideLabel || ((to.group===\'panel\' || to.group===\'accordion\') && field?.parent?.type!==\n      \'formly-group\') }">\n        <span *ngIf="to.tagText" class="usa-tag"  [ngClass]="to.tagClass ? to.tagClass : \'sds-tag--info-white\'">{{to.tagText}}</span>\n        <span>{{ to.label }}</span>\n        <span *ngIf="!to.required && !to.hideOptional"> (Optional)</span>\n      </label>\n      <ng-container #fieldComponent></ng-container>\n    </div>\n  '}]}],ve.propDecorators={fieldComponent:[{type:c.ViewChild,args:["fieldComponent",{read:c.ViewContainerRef}]}]},ve);function ve(){return null!==ue&&ue.apply(this,arguments)||this}var be,Ce=(y(De,be=f.FieldWrapper),De.decorators=[{type:c.Component,args:[{template:'\n    <div>\n      <small *ngIf="to.description" class="form-text text-muted">{{ to.description }}</small>\n      <ng-container #fieldComponent></ng-container>\n    </div>\n  '}]}],De.propDecorators={fieldComponent:[{type:c.ViewChild,args:["fieldComponent",{read:c.ViewContainerRef}]}]},De);function De(){return null!==be&&be.apply(this,arguments)||this}var we,xe=(y(Fe,we=f.FieldWrapper),Fe.decorators=[{type:c.Component,args:[{template:'\n    <ng-container #fieldComponent></ng-container>\n    <div *ngIf="showError" class="usa-error-message" [style.display]="\'block\'">\n      <formly-validation-message [field]="field"></formly-validation-message>\n    </div>\n  '}]}],Fe.propDecorators={fieldComponent:[{type:c.ViewChild,args:["fieldComponent",{read:c.ViewContainerRef}]}]},Fe);function Fe(){return null!==we&&we.apply(this,arguments)||this}var Oe,Se=(y(ke,Oe=f.FieldWrapper),ke.prototype.modelHasValue=function(){return this.to.hasOwnProperty("expand")?this.to.expand:!!(this.formControl.value instanceof Object?l.stringify(this.formControl.value,{skipNulls:!0}):this.formControl.value)},ke.decorators=[{type:c.Component,args:[{template:'\n    <ng-container [ngSwitch]="to.group">\n      <ng-container *ngSwitchCase="\'accordion\'">\n        <sds-accordion multi="true" displayMode="basic">\n          <sds-accordion-item\n            class="sds-accordion__panel"\n            [expanded]="modelHasValue()"\n          >\n            <sds-accordion-item-header>\n              <span\n                *ngIf="!to.hideLabel"\n                [attr.aria-hidden]="!to.announceLabel ? undefined : \'true\'"\n              >\n                {{ to.label }}\n              </span>\n            </sds-accordion-item-header>\n            <ng-container #fieldComponent></ng-container>\n          </sds-accordion-item>\n        </sds-accordion>\n      </ng-container>\n      <ng-container *ngSwitchCase="\'panel\'">\n        <div\n          class="sds-panel"\n          [ngClass]="{ \'sds-panel--multiple\': field?.fieldGroup?.length }"\n        >\n          <div\n            class="sds-panel__header"\n            *ngIf="!to.hideLabel"\n            [attr.aria-hidden]="!to.announceLabel ? undefined : \'true\'"\n          >\n            {{ to.label }}\n          </div>\n          <div class="sds-panel__body">\n            <ng-container #fieldComponent></ng-container>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngSwitchDefault>\n        <ng-container #fieldComponent></ng-container>\n      </ng-container>\n    </ng-container>\n  '}]}],ke.ctorParameters=function(){return[]},ke.propDecorators={fieldComponent:[{type:c.ViewChild,args:["fieldComponent",{read:c.ViewContainerRef}]}]},ke);function ke(){return Oe.call(this)||this}var Me,Ie=(y(_e,Me=Q),_e.decorators=[{type:c.Component,args:[{selector:"sds-formly-field-search",template:'\n    <sds-search [formControl]="formControl"></sds-search>\n    ',changeDetection:c.ChangeDetectionStrategy.OnPush}]}],_e.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},_e.propDecorators={template:[{type:c.ViewChild,args:[g.SdsSearchComponent]}]},_e);function _e(e){var t=Me.call(this)||this;return t.cdr=e,t}var Ve=[P,H,j,A,z,U,F,k,ee,oe,_,ie,D,ye,Ce,xe,pe,Se,Ie],Te=[{name:"form-field",component:F,componentName:"FormlyWrapperFormFieldComponent"},{name:"accordionwrapper",component:k,componentName:"FormlyAccordianFormFieldComponent"},{name:"filterwrapper",component:_,componentName:"FormlyFormFieldFilterWrapperComponent"},{name:"label",component:ye,componentName:"FormlyLabelWrapperComponent"},{name:"description",component:Ce,componentName:"FormlyDescriptionWrapperComponent"},{name:"validation",component:xe,componentName:"FormlyValidationWrapperComponent"},{name:"group",component:Se,componentName:"FormlyGroupWrapperComponent"},{name:"customwrapper",component:D,componentName:"FormlyCustomWrapperComponent"}],Pe={types:[{name:"formly-group",wrappers:ge},{name:"button",component:ie},{name:"customtext",component:pe,wrappers:he},{name:"input",component:P,wrappers:he},{name:"checkbox",component:H,wrappers:he},{name:"radio",component:j,wrappers:he},{name:"select",component:A,wrappers:he},{name:"textarea",component:z,wrappers:he},{name:"multicheckbox",component:U,wrappers:he},{name:"autocomplete",component:ee,wrappers:he},{name:"datepicker",component:oe,wrappers:he,defaultOptions:{validators:{validation:[me,ce]}}},{name:"daterangepicker","extends":"formly-group",wrappers:he,defaultOptions:{fieldGroup:[{type:"datepicker",key:"fromDate",templateOptions:{label:"From"},expressionProperties:{"templateOptions.minDate":Ee,"templateOptions.maxDate":qe}},{type:"datepicker",key:"toDate",templateOptions:{label:"To"},expressionProperties:{"templateOptions.minDate":Re,"templateOptions.maxDate":Ae}}]}},{name:"search",component:Ie,wrappers:he}],wrappers:[{name:"label",component:ye},{name:"description",component:Ce},{name:"validation",component:xe},{name:"group",component:Se},{name:"form-field",component:F},{name:"accordionwrapper",component:k},{name:"filterwrapper",component:_},{name:"customwrapper",component:D}]};function Re(e,t,n){var o=null;return n.parent.templateOptions.minDate&&(o=new Date(n.parent.templateOptions.minDate.getTime())),e&&e.fromDate&&(o=e.fromDate),o}function Ee(e,t,n){var o=null;return n.parent.templateOptions.minDate&&(o=new Date(n.parent.templateOptions.minDate.getTime())),o}function Ae(e,t,n){var o=null;return n.parent.templateOptions.maxDate&&(o=new Date(n.parent.templateOptions.maxDate.getTime())),o}function qe(e,t,n){var o=null;return n.parent.templateOptions.maxDate&&(o=new Date(n.parent.templateOptions.maxDate)),e&&e.toDate&&(o=e.toDate),o}var Ne,je=[a.trigger("slideInOut",[a.state("in",a.style({"max-height":"2000px",opacity:"1",visibility:"visible"})),a.state("out",a.style({"max-height":"0px",opacity:"0",visibility:"hidden"})),a.transition("in => out",[a.group([a.animate("400ms ease-in-out",a.style({opacity:"0"})),a.animate("600ms ease-in-out",a.style({"max-height":"0px"})),a.animate("700ms ease-in-out",a.style({visibility:"hidden"}))])]),a.transition("out => in",[a.group([a.animate("1ms ease-in-out",a.style({visibility:"visible"})),a.animate("600ms ease-in-out",a.style({"max-height":"500px"})),a.animate("800ms ease-in-out",a.style({opacity:"1"}))])])])],Le=(y(We,Ne=f.FieldWrapper),We.decorators=[{type:c.Component,args:[{selector:"sam-formly-wrapper-animation",template:"\n    <div [@slideInOut]=\"field.hide ? 'out' : 'in'\">\n      <ng-container #fieldComponent></ng-container>\n    </div>\n  ",animations:[je]}]}],We);function We(){return null!==Ne&&Ne.apply(this,arguments)||this}function He(e,t){return"Should have atleast "+t.templateOptions.minLength+" characters"}function Ge(e,t){return"This value should be less than "+t.templateOptions.maxLength+" characters"}function Ye(e,t){return"This value should be more than "+t.templateOptions.min}function Ue(e,t){var n=t.templateOptions.minDate;return"Date must be after "+(n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear())}function Je(e,t){var n=t.templateOptions.maxDate;return"Date must be before "+(n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear())}function $e(e,t){var n=t.templateOptions.maxDate,o=n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear(),a=t.templateOptions.minDate;return"Date must be between "+(a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear())+" and "+o+" "}function ze(e,t){return"Valid date format required (ex: MM/DD/YYYY)"}function Be(e,t){return"This value should be less than "+t.templateOptions.max}function Ke(e){e.wrappers&&e.wrappers.includes("animation")||(e.wrappers=b(["animation"],e.wrappers||[]))}var Qe=(Xe.forChild=function(e){return void 0===e&&(e={}),[{ngModule:Xe,providers:[]},f.FormlyModule.forChild(e)]},Xe.decorators=[{type:c.NgModule,args:[{declarations:[Ve,Le],imports:[m.CommonModule,g.SdsAccordionModule,g.SdsAutocompleteModule,g.SdsDialogModule,g.SdsSearchModule,g.SdsTextModule,n.MatNativeDateModule,o.MatDatepickerModule,t.MatInputModule,i.FontAwesomeModule,u.ReactiveFormsModule,r.FormlySelectModule,f.FormlyModule.forChild(Pe),f.FormlyModule.forRoot({validationMessages:[{name:"required",message:"This field is required"},{name:"minlength",message:He},{name:"maxlength",message:Ge},{name:"min",message:Ye},{name:"max",message:Be},{name:"minDate",message:Ue},{name:"maxDate",message:Je},{name:"betweenDate",message:$e},{name:"matDatepickerParse",message:ze}],validators:[{name:"minDate",validation:ce},{name:"maxDate",validation:me}],wrappers:[{name:"animation",component:Le}],extensions:[{name:"animation",extension:{onPopulate:Ke}}]})]}]}],Xe);function Xe(){}var Ze=(et.prototype.resetAll=function(){this.options.resetModel()},et.decorators=[{type:c.Component,args:[{selector:"sds-formly-reset",template:'<button (click)="resetAll()" [ngClass]="classes">\n  Reset All\n  <fa-icon [icon]="[\'sds\', \'reset\']" [classes]="[\'icon-reset\']"></fa-icon>\n</button>\n',styles:[".usa-button--unstyled{padding-right:0;width:initial;text-decoration:none;font-weight:600}.usa-button--unstyled:active,.usa-button--unstyled:hover{background:initial;color:initial;text-decoration:underline}"]}]}],et.propDecorators={options:[{type:c.Input}],classes:[{type:c.Input}]},et);function et(){this.classes=["usa-button","usa-button--unstyled"]}var tt=(nt.decorators=[{type:c.NgModule,args:[{declarations:[Ze],imports:[m.CommonModule,i.FontAwesomeModule],exports:[Ze]}]}],nt);function nt(){}var ot=(at.prototype.updateFilter=function(e){this.updateFilterSource.next(e)},at);function at(){this.updateFilterSource=new d.Subject,this.filterUpdate=this.updateFilterSource.asObservable()}var rt=(it.prototype.onpopstate=function(){var e=window.location.search,t=new URLSearchParams(e).get("ref"),n=null==t?this.nullify(this.form.value):JSON.parse(localStorage.getItem(t)),o=this.overwrite(this.form.getRawValue(),n);this.form.setValue(o,{emitEvent:!1}),this.updateChange(n)},it.prototype.ngOnInit=function(){var e,t,n,o=this;this.isHistoryEnable&&(e=window.location.search,(t=new URLSearchParams(e).get("ref"))?(n=JSON.parse(localStorage.getItem(t)),setTimeout(function(){o.model=v({},o.model,n),o.updateChange(n),o.cdr.detectChanges()},0)):(this.updateChange(this.model),this.clearStorage())),this.cdr.detectChanges()},it.prototype.onModelChange=function(e){var t;this.isHistoryEnable&&(t=(new p.Md5).appendStr(l.stringify(e)).end(),this.router.navigate([],{relativeTo:this.route,queryParams:{ref:t},queryParamsHandling:"merge"}),this.addToStorageList(t),localStorage.setItem(t.toString(),JSON.stringify(e))),this.updateChange(e)},it.prototype.updateChange=function(e){this.filterChange.emit(e),this.formlyUpdateComunicationService&&this.formlyUpdateComunicationService.updateFilter(e)},it.prototype.addToStorageList=function(e){var t=JSON.parse(localStorage.getItem("sdsFilterHistory"));this.sdsFilterHistory=t&&0<t.length?t:this.sdsFilterHistory,this.sdsFilterHistory.push(e),localStorage.setItem("sdsFilterHistory",JSON.stringify(this.sdsFilterHistory))},it.prototype.clearStorage=function(){var e=JSON.parse(localStorage.getItem("sdsFilterHistory"));e&&0<e.length&&e.filter(function(e,t,n){return n.indexOf(e)===t}).forEach(function(e){localStorage.removeItem(e)})},it.decorators=[{type:c.Component,args:[{selector:"sds-filters",template:'<formly-form [form]="form" [fields]="fields" [options]="options" [model]="model" (modelChange)="onModelChange($event)">\n</formly-form>\n<div class="grid-row">\n  <div *ngIf="advancedFilters" class="grid-col">\n    <sds-advanced-filters [form]="form" [fields]="fields" [options]="options" [model]="model">\n    </sds-advanced-filters>\n  </div>\n  <div class="grid-col text-right">\n    <sds-formly-reset [options]="options"></sds-formly-reset>\n  </div>\n</div>\n'}]}],it.ctorParameters=function(){return[{type:ot,decorators:[{type:c.Optional}]},{type:c.ChangeDetectorRef},{type:s.Router},{type:s.ActivatedRoute}]},it.propDecorators={form:[{type:c.Input}],fields:[{type:c.Input}],model:[{type:c.Input}],options:[{type:c.Input}],advancedFilters:[{type:c.Input}],isHistoryEnable:[{type:c.Input}],filterChange:[{type:c.Output}],onpopstate:[{type:c.HostListener,args:["window:popstate",[""]]}]},it);function it(e,t,n,o){var a=this;this.formlyUpdateComunicationService=e,this.cdr=t,this.router=n,this.route=o,this.options={},this.advancedFilters=!1,this.isHistoryEnable=!0,this.filterChange=new c.EventEmitter,this.sdsFilterHistory=[],this._isObj=function(e){return"object"==typeof e&&null!==e},this._isEmpty=function(e){return 0===Object.keys(e).length},this.overwrite=function(e,t){var n={};for(var o in e)Array.isArray(e[o])?n[o]=t[o]:a._isObj(e[o])?n[o]=a.overwrite(e[o],t[o]||{}):n[o]=t[o]||null;return n},this.nullify=function(e){for(var t in e)a._isObj(e[t])?e[t]=a.nullify(e[t]):e[t]=null;return e}}var st=(lt.prototype.convertToCheckboxes=function(e){var n=this,o=[];return e.forEach(function(e){var t;e.fieldGroup&&1<e.fieldGroup.length?t=n.createMulticheckbox(e):(t={type:"checkbox",key:e.key,defaultValue:!e.hide,templateOptions:{hideOptional:!0}},e.templateOptions&&e.templateOptions.label&&(t.templateOptions.label=e.templateOptions.label)),o.push(t)}),o},lt.prototype.createMulticheckbox=function(o){var a=[],r=[];o.fieldGroup.forEach(function(e){var t=e.templateOptions&&e.templateOptions.label?e.templateOptions.label:null,n={key:e.key,value:t};a.push(n),o.hide||e.hide||r.push(e.key)});var e={key:o.key,type:"multicheckbox",templateOptions:{hideOptional:!0,type:"array",options:a}};return o.templateOptions&&o.templateOptions.label&&(e.templateOptions.label=o.templateOptions.label),o.hide||(e.defaultValue=r),e},lt.prototype.updateFields=function(a,e,r){var i=this;return e.forEach(function(e){var t,n=e.key,o=a[n];e.fieldGroup&&1<e.fieldGroup.length?(t=r[n],i.updateFieldGroup(e,o,t)):i.updateSingleField(e,o,r)}),{fields:e,model:r}},lt.prototype.updateFieldGroup=function(e,o,a){var r=this;o&&o.length?(e.hide=!1,e.fieldGroup.forEach(function(e){var t=e.key,n=o.includes(t);r.updateSingleField(e,n,a)})):(e.hide=!0,e.fieldGroup.forEach(function(e){r.updateSingleField(e,!1,a)}))},lt.prototype.updateSingleField=function(e,t,n){t?e.hide=!1:(e.hide=!0,e.templateOptions.required=!1,n[e.key]=null)},lt.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],lt.ctorParameters=function(){return[]},lt.ngInjectableDef=c.defineInjectable({factory:function(){return new lt},token:lt,providedIn:"root"}),lt);function lt(){}var pt=(dt.prototype.ngOnInit=function(){this.fields=this.data.fields,this.form=this.data.form?this.data.form:new u.FormGroup({}),this.model=this.data.model?this.data.model:{},this.options=this.data.options?this.data.options:{},this.cancel=this.data.cancel?this.data.cancel:"Cancel",this.submit=this.data.submit?this.data.submit:"Submit"},dt.prototype.onSubmit=function(){var e;this.form.valid&&(e=this.advancedFiltersService.updateFields(this.model,this.data.originalFields,this.data.originalModel),this.dialogRef.close(e))},dt.prototype.onCancel=function(){this.dialogRef.close()},dt.decorators=[{type:c.Component,args:[{selector:"sds-formly-dialog",template:'<form [formGroup]="form" (ngSubmit)="onSubmit()">\n  <div *ngIf="data.title" sds-dialog-title>{{data.title}}</div>\n  <div *ngIf="data.subtitle" sds-dialog-subtitle>{{data.subtitle}}</div>\n  <div sds-dialog-content>\n    <formly-form [form]="form" [fields]="fields" [options]="options" [model]="model"></formly-form>\n  </div>\n  <div sds-dialog-actions>\n    <button class="usa-button usa-button--base" (click)="onCancel()" type="button">\n      {{cancel}}\n    </button>\n    <button class="usa-button" type="submit">\n      {{submit}}\n    </button>\n  </div>\n</form>\n'}]}],dt.ctorParameters=function(){return[{type:st},{type:g.SdsDialogRef},{type:undefined,decorators:[{type:c.Inject,args:[g.SDS_DIALOG_DATA]}]}]},dt);function dt(e,t,n){this.advancedFiltersService=e,this.dialogRef=t,this.data=n}var ct=(mt.prototype.openDialog=function(){var t=this,e={fields:this.advancedFiltersService.convertToCheckboxes(this.fields),originalFields:this.fields,originalModel:this.model,submit:"Update",title:"More Filters"};this.dialog.open(pt,{width:"medium",data:e}).afterClosed().subscribe(function(e){e&&(t.fields=e.fields,t.model=e.model)})},mt.decorators=[{type:c.Component,args:[{selector:"sds-advanced-filters",template:'<button type="button" (click)="openDialog()" class="usa-button usa-button--unstyled">More\n  Filters\n  <fa-icon [icon]="[\'sds\', \'filter\']" [classes]="[\'icon-filter\']"></fa-icon>\n</button>\n',styles:[".usa-button--unstyled{padding-left:0;width:initial;text-decoration:none;font-weight:600}.usa-button--unstyled:active,.usa-button--unstyled:hover{background:initial;color:initial;text-decoration:underline}"]}]}],mt.ctorParameters=function(){return[{type:g.SdsDialogService},{type:st}]},mt.propDecorators={form:[{type:c.Input}],fields:[{type:c.Input}],model:[{type:c.Input}],options:[{type:c.Input}]},mt);function mt(e,t){this.dialog=e,this.advancedFiltersService=t,this.options={}}var ut=(ft.decorators=[{type:c.NgModule,args:[{declarations:[rt,ct],imports:[m.CommonModule,u.FormsModule,g.SdsAccordionModule,Qe,tt,i.FontAwesomeModule,u.ReactiveFormsModule,r.FormlySelectModule,f.FormlyModule],exports:[rt]}]}],ft);function ft(){}var gt=(ht.decorators=[{type:c.NgModule,args:[{declarations:[pt],imports:[m.CommonModule,ut,g.SdsDialogModule,u.ReactiveFormsModule,Qe,f.FormlyModule,u.FormsModule],entryComponents:[pt],exports:[pt]}]}],ht);function ht(){}e.ɵw=ct,e.ɵv=rt,e.ɵu=Ze,e.ɵi=ee,e.ɵl=ie,e.ɵb=H,e.ɵj=oe,e.ɵa=P,e.ɵf=U,e.ɵc=j,e.ɵs=Ie,e.ɵd=A,e.ɵq=pe,e.ɵe=z,e.ɵm=D,e.ɵo=Ce,e.ɵh=k,e.ɵt=Le,e.ɵk=_,e.ɵg=F,e.ɵr=Se,e.ɵn=ye,e.ɵp=xe,e.minlengthValidationMessage=He,e.maxlengthValidationMessage=Ge,e.minValidationMessage=Ye,e.minDateValidationMessage=Ue,e.maxDateValidationMessage=Je,e.betweenDateValidationMessage=$e,e.invalidDateFormatValidationMessage=ze,e.maxValidationMessage=Be,e.animationExtension=Ke,e.SdsFormlyModule=Qe,e.maxDateValidator=me,e.minDateValidator=ce,e.SdsFormlyResetModule=tt,e.SdsFiltersModule=ut,e.SdsFormlyDialogComponent=pt,e.SdsFormlyDialogModule=gt,e.SDSFormlyUpdateComunicationService=ot,e.SdsAdvancedFiltersService=st,e.sdsFieldWrapper=fe,e.sdsGroupWrapper=ge,e.sdsWrappers=he,e.FIELD_TYPE_COMPONENTS=Ve,e.FORMLY_WRAPPERS=Te,e.FORMLY_CONFIG=Pe,e.minDateToDateRangePicker=Re,e.minDateFromDateRangePicker=Ee,e.maxDateToDateRangePicker=Ae,e.maxDateFromDateRangePicker=qe,e.AbstractSdsFormly=Q,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=gsa-sam-sam-formly.umd.min.js.map