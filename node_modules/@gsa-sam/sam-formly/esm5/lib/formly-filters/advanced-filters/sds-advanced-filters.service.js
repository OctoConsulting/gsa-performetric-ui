import { Injectable } from '@angular/core';
import * as i0 from "@angular/core";
var SdsAdvancedFiltersService = /** @class */ (function () {
    function SdsAdvancedFiltersService() {
    }
    SdsAdvancedFiltersService.prototype.convertToCheckboxes = function (origFields) {
        var _this = this;
        var fields = [];
        origFields.forEach(function (origField) {
            if (origField.fieldGroup && origField.fieldGroup.length > 1) {
                var field = _this.createMulticheckbox(origField);
                fields.push(field);
            }
            else {
                var field = {
                    type: 'checkbox',
                    key: origField.key,
                    defaultValue: !origField.hide,
                    templateOptions: {
                        hideOptional: true
                    }
                };
                if (origField.templateOptions && origField.templateOptions.label) {
                    field.templateOptions.label = origField.templateOptions.label;
                }
                fields.push(field);
            }
        });
        return fields;
    };
    // TODO: Should be changed so option has label field instead of key but multicheckbox field type must be updated so default value still works
    SdsAdvancedFiltersService.prototype.createMulticheckbox = function (origField) {
        var options = [];
        var defaultValue = [];
        origField.fieldGroup.forEach(function (field) {
            var label = field.templateOptions && field.templateOptions.label ? field.templateOptions.label : null;
            var option = {
                key: field.key,
                value: label
            };
            options.push(option);
            if (!origField.hide && !field.hide) {
                defaultValue.push(field.key);
            }
        });
        var field = {
            key: origField.key,
            type: 'multicheckbox',
            templateOptions: {
                hideOptional: true,
                type: 'array',
                options: options
            }
        };
        if (origField.templateOptions && origField.templateOptions.label) {
            field.templateOptions.label = origField.templateOptions.label;
        }
        if (!origField.hide) {
            field.defaultValue = defaultValue;
        }
        return field;
    };
    SdsAdvancedFiltersService.prototype.updateFields = function (selectedFields, fields, model) {
        var _this = this;
        fields.forEach(function (field) {
            var key = field.key;
            var selectedField = selectedFields[key];
            if (field.fieldGroup && field.fieldGroup.length > 1) {
                var fieldModel = model[key];
                _this.updateFieldGroup(field, selectedField, fieldModel);
            }
            else {
                _this.updateSingleField(field, selectedField, model);
            }
        });
        return {
            fields: fields,
            model: model
        };
    };
    SdsAdvancedFiltersService.prototype.updateFieldGroup = function (parentField, selectedFields, model) {
        var _this = this;
        if (selectedFields && selectedFields.length) {
            parentField.hide = false;
            parentField.fieldGroup.forEach(function (field) {
                var key = field.key;
                var fieldSelected = selectedFields.includes(key);
                _this.updateSingleField(field, fieldSelected, model);
            });
        }
        else {
            parentField.hide = true;
            parentField.fieldGroup.forEach(function (field) {
                _this.updateSingleField(field, false, model);
            });
        }
    };
    SdsAdvancedFiltersService.prototype.updateSingleField = function (field, fieldSelected, model) {
        if (fieldSelected) {
            field.hide = false;
        }
        else {
            field.hide = true;
            field.templateOptions['required'] = false;
            model[field.key] = null;
        }
    };
    SdsAdvancedFiltersService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] }
    ];
    /** @nocollapse */
    SdsAdvancedFiltersService.ctorParameters = function () { return []; };
    SdsAdvancedFiltersService.ngInjectableDef = i0.defineInjectable({ factory: function SdsAdvancedFiltersService_Factory() { return new SdsAdvancedFiltersService(); }, token: SdsAdvancedFiltersService, providedIn: "root" });
    return SdsAdvancedFiltersService;
}());
export { SdsAdvancedFiltersService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2RzLWFkdmFuY2VkLWZpbHRlcnMuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc2Etc2FtL3NhbS1mb3JtbHkvIiwic291cmNlcyI6WyJsaWIvZm9ybWx5LWZpbHRlcnMvYWR2YW5jZWQtZmlsdGVycy9zZHMtYWR2YW5jZWQtZmlsdGVycy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7O0FBRzNDO0lBTUU7SUFBZSxDQUFDO0lBRWhCLHVEQUFtQixHQUFuQixVQUFvQixVQUErQjtRQUFuRCxpQkF1QkM7UUF0QkMsSUFBTSxNQUFNLEdBQXdCLEVBQUUsQ0FBQztRQUN2QyxVQUFVLENBQUMsT0FBTyxDQUFDLFVBQUEsU0FBUztZQUMxQixJQUFJLFNBQVMsQ0FBQyxVQUFVLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUMzRCxJQUFNLEtBQUssR0FBRyxLQUFJLENBQUMsbUJBQW1CLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ2xELE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEI7aUJBQU07Z0JBQ0wsSUFBTSxLQUFLLEdBQXNCO29CQUMvQixJQUFJLEVBQUUsVUFBVTtvQkFDaEIsR0FBRyxFQUFFLFNBQVMsQ0FBQyxHQUFHO29CQUNsQixZQUFZLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSTtvQkFDN0IsZUFBZSxFQUFFO3dCQUNmLFlBQVksRUFBRSxJQUFJO3FCQUNuQjtpQkFDRixDQUFDO2dCQUVGLElBQUksU0FBUyxDQUFDLGVBQWUsSUFBSSxTQUFTLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRTtvQkFDaEUsS0FBSyxDQUFDLGVBQWUsQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7aUJBQy9EO2dCQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENB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YyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDbkQsS0FBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDdEQsQ0FBQyxDQUFDLENBQUM7U0FDSjthQUFNO1lBQ0wsV0FBVyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDeEIsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBQSxLQUFLO2dCQUNsQyxLQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM5QyxDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztJQUVELHFEQUFpQixHQUFqQixVQUNFLEtBQXdCLEVBQ3hCLGFBQXNCLEVBQ3RCLEtBQVU7UUFFVixJQUFJLGFBQWEsRUFBRTtZQUNqQixLQUFLLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztTQUNwQjthQUFNO1lBQ0wsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDbEIsS0FBSyxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsR0FBRyxLQUFLLENBQUM7WUFDMUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7U0FDekI7SUFDSCxDQUFDOztnQkFsSEYsVUFBVSxTQUFDO29CQUNWLFVBQVUsRUFBRSxNQUFNO2lCQUNuQjs7Ozs7b0NBTEQ7Q0FzSEMsQUFuSEQsSUFtSEM7U0EvR1kseUJBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybWx5RmllbGRDb25maWcgfSBmcm9tICdAbmd4LWZvcm1seS9jb3JlJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5cbmV4cG9ydCBjbGFzcyBTZHNBZHZhbmNlZEZpbHRlcnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgY29udmVydFRvQ2hlY2tib3hlcyhvcmlnRmllbGRzOiBGb3JtbHlGaWVsZENvbmZpZ1tdKTogRm9ybWx5RmllbGRDb25maWdbXSB7XG4gICAgY29uc3QgZmllbGRzOiBGb3JtbHlGaWVsZENvbmZpZ1tdID0gW107XG4gICAgb3JpZ0ZpZWxkcy5mb3JFYWNoKG9yaWdGaWVsZCA9PiB7XG4gICAgICBpZiAob3JpZ0ZpZWxkLmZpZWxkR3JvdXAgJiYgb3JpZ0ZpZWxkLmZpZWxkR3JvdXAubGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuY3JlYXRlTXVsdGljaGVja2JveChvcmlnRmllbGQpO1xuICAgICAgICBmaWVsZHMucHVzaChmaWVsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmaWVsZDogRm9ybWx5RmllbGRDb25maWcgPSB7XG4gICAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICBrZXk6IG9yaWdGaWVsZC5rZXksXG4gICAgICAgICAgZGVmYXVsdFZhbHVlOiAhb3JpZ0ZpZWxkLmhpZGUsXG4gICAgICAgICAgdGVtcGxhdGVPcHRpb25zOiB7XG4gICAgICAgICAgICBoaWRlT3B0aW9uYWw6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9yaWdGaWVsZC50ZW1wbGF0ZU9wdGlvbnMgJiYgb3JpZ0ZpZWxkLnRlbXBsYXRlT3B0aW9ucy5sYWJlbCkge1xuICAgICAgICAgIGZpZWxkLnRlbXBsYXRlT3B0aW9ucy5sYWJlbCA9IG9yaWdGaWVsZC50ZW1wbGF0ZU9wdGlvbnMubGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmaWVsZHM7XG4gIH1cblxuICAvLyBUT0RPOiBTaG91bGQgYmUgY2hhbmdlZCBzbyBvcHRpb24gaGFzIGxhYmVsIGZpZWxkIGluc3RlYWQgb2Yga2V5IGJ1dCBtdWx0aWNoZWNrYm94IGZpZWxkIHR5cGUgbXVzdCBiZSB1cGRhdGVkIHNvIGRlZmF1bHQgdmFsdWUgc3RpbGwgd29ya3NcbiAgY3JlYXRlTXVsdGljaGVja2JveChvcmlnRmllbGQ6IEZvcm1seUZpZWxkQ29uZmlnKTogRm9ybWx5RmllbGRDb25maWcge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBbXTtcbiAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBbXTtcbiAgICBvcmlnRmllbGQuZmllbGRHcm91cC5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgIGNvbnN0IGxhYmVsID0gZmllbGQudGVtcGxhdGVPcHRpb25zICYmIGZpZWxkLnRlbXBsYXRlT3B0aW9ucy5sYWJlbCA/IGZpZWxkLnRlbXBsYXRlT3B0aW9ucy5sYWJlbCA6IG51bGw7XG4gICAgICBjb25zdCBvcHRpb24gPSB7XG4gICAgICAgIGtleTogZmllbGQua2V5LFxuICAgICAgICB2YWx1ZTogbGFiZWxcbiAgICAgIH07XG4gICAgICBvcHRpb25zLnB1c2gob3B0aW9uKTtcbiAgICAgIGlmICghb3JpZ0ZpZWxkLmhpZGUgJiYgIWZpZWxkLmhpZGUpIHtcbiAgICAgICAgZGVmYXVsdFZhbHVlLnB1c2goZmllbGQua2V5KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGZpZWxkOiBGb3JtbHlGaWVsZENvbmZpZyA9IHtcbiAgICAgIGtleTogb3JpZ0ZpZWxkLmtleSxcbiAgICAgIHR5cGU6ICdtdWx0aWNoZWNrYm94JyxcbiAgICAgIHRlbXBsYXRlT3B0aW9uczoge1xuICAgICAgICBoaWRlT3B0aW9uYWw6IHRydWUsXG4gICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKG9yaWdGaWVsZC50ZW1wbGF0ZU9wdGlvbnMgJiYgb3JpZ0ZpZWxkLnRlbXBsYXRlT3B0aW9ucy5sYWJlbCkge1xuICAgICAgZmllbGQudGVtcGxhdGVPcHRpb25zLmxhYmVsID0gb3JpZ0ZpZWxkLnRlbXBsYXRlT3B0aW9ucy5sYWJlbDtcbiAgICB9XG5cbiAgICBpZiAoIW9yaWdGaWVsZC5oaWRlKSB7XG4gICAgICBmaWVsZC5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBmaWVsZDtcbiAgfVxuXG4gIHVwZGF0ZUZpZWxkcyggc2VsZWN0ZWRGaWVsZHM6IG9iamVjdCwgZmllbGRzOiBGb3JtbHlGaWVsZENvbmZpZ1tdLCBtb2RlbDogYW55KSB7XG4gICAgZmllbGRzLmZvckVhY2goKGZpZWxkOiBGb3JtbHlGaWVsZENvbmZpZykgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gZmllbGQua2V5O1xuICAgICAgY29uc3Qgc2VsZWN0ZWRGaWVsZCA9IHNlbGVjdGVkRmllbGRzW2tleV07XG4gICAgICBpZiAoZmllbGQuZmllbGRHcm91cCAmJiBmaWVsZC5maWVsZEdyb3VwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgZmllbGRNb2RlbCA9IG1vZGVsW2tleV07XG4gICAgICAgIHRoaXMudXBkYXRlRmllbGRHcm91cChmaWVsZCwgc2VsZWN0ZWRGaWVsZCwgZmllbGRNb2RlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVNpbmdsZUZpZWxkKGZpZWxkLCBzZWxlY3RlZEZpZWxkLCBtb2RlbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgbW9kZWw6IG1vZGVsXG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZUZpZWxkR3JvdXAoIHBhcmVudEZpZWxkOiBGb3JtbHlGaWVsZENvbmZpZywgc2VsZWN0ZWRGaWVsZHM6IGFueSwgbW9kZWw6IG9iamVjdCkge1xuICAgIGlmIChzZWxlY3RlZEZpZWxkcyAmJiBzZWxlY3RlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIHBhcmVudEZpZWxkLmhpZGUgPSBmYWxzZTtcbiAgICAgIHBhcmVudEZpZWxkLmZpZWxkR3JvdXAuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGZpZWxkLmtleTtcbiAgICAgICAgY29uc3QgZmllbGRTZWxlY3RlZCA9IHNlbGVjdGVkRmllbGRzLmluY2x1ZGVzKGtleSk7XG4gICAgICAgIHRoaXMudXBkYXRlU2luZ2xlRmllbGQoZmllbGQsIGZpZWxkU2VsZWN0ZWQsIG1vZGVsKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnRGaWVsZC5oaWRlID0gdHJ1ZTtcbiAgICAgIHBhcmVudEZpZWxkLmZpZWxkR3JvdXAuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlU2luZ2xlRmllbGQoZmllbGQsIGZhbHNlLCBtb2RlbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVTaW5nbGVGaWVsZChcbiAgICBmaWVsZDogRm9ybWx5RmllbGRDb25maWcsXG4gICAgZmllbGRTZWxlY3RlZDogYm9vbGVhbixcbiAgICBtb2RlbDogYW55XG4gICkge1xuICAgIGlmIChmaWVsZFNlbGVjdGVkKSB7XG4gICAgICBmaWVsZC5oaWRlID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpZWxkLmhpZGUgPSB0cnVlO1xuICAgICAgZmllbGQudGVtcGxhdGVPcHRpb25zWydyZXF1aXJlZCddID0gZmFsc2U7XG4gICAgICBtb2RlbFtmaWVsZC5rZXldID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiJdfQ==