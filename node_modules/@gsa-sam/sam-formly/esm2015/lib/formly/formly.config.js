import { FormlyCustomWrapperComponent } from './wrappers/custom-wrapper';
import { FormlyWrapperFormFieldComponent } from './wrappers/form-field.wrapper';
import { FormlyAccordianFormFieldComponent } from './wrappers/form-field.accordian';
import { FormlyFormFieldFilterWrapperComponent } from './wrappers/form-field.filterwrapper';
import { FormlyFieldInputComponent } from './types/input';
import { FormlyFieldSelectComponent } from './types/select';
import { FormlyFieldRadioComponent } from './types/radio';
import { FormlyFieldCheckboxComponent } from './types/checkbox';
import { FormlyFieldMultiCheckboxComponent } from './types/multicheckbox';
import { FormlyFieldTextAreaComponent } from './types/textarea';
import { FormlyFieldAutoCompleteComponent } from './types/autocomplete';
import { FormlyFieldDatePickerComponent } from './types/datepicker';
import { FormlyFieldButtonComponent } from './types/button';
import { FormlyFieldTextComponent } from './types/text';
export const FIELD_TYPE_COMPONENTS = [
    FormlyFieldInputComponent,
    FormlyFieldCheckboxComponent,
    FormlyFieldRadioComponent,
    FormlyFieldSelectComponent,
    FormlyFieldTextAreaComponent,
    FormlyFieldMultiCheckboxComponent,
    FormlyWrapperFormFieldComponent,
    FormlyAccordianFormFieldComponent,
    FormlyFieldAutoCompleteComponent,
    FormlyFieldDatePickerComponent,
    FormlyFormFieldFilterWrapperComponent,
    FormlyFieldButtonComponent,
    FormlyCustomWrapperComponent,
    FormlyLabelWrapperComponent,
    FormlyDescriptionWrapperComponent,
    FormlyValidationWrapperComponent,
    FormlyFieldTextComponent,
    FormlyGroupWrapperComponent,
    FormlyFieldSearchComponent
];
import { maxDateValidator, minDateValidator } from './formly.validators';
import { sdsWrappers, sdsGroupWrapper } from './sds-formly-options';
import { FormlyLabelWrapperComponent } from './wrappers/label.wrapper';
import { FormlyDescriptionWrapperComponent } from './wrappers/description.wrapper';
import { FormlyValidationWrapperComponent } from './wrappers/validation.wrapper';
import { FormlyGroupWrapperComponent } from './wrappers/group.wrapper';
import { FormlyFieldSearchComponent } from './types/search';
export const FORMLY_WRAPPERS = [
    {
        name: 'form-field',
        component: FormlyWrapperFormFieldComponent,
        componentName: 'FormlyWrapperFormFieldComponent'
    },
    {
        name: 'accordionwrapper',
        component: FormlyAccordianFormFieldComponent,
        componentName: 'FormlyAccordianFormFieldComponent'
    },
    {
        name: 'filterwrapper',
        component: FormlyFormFieldFilterWrapperComponent,
        componentName: 'FormlyFormFieldFilterWrapperComponent'
    },
    {
        name: 'label',
        component: FormlyLabelWrapperComponent,
        componentName: 'FormlyLabelWrapperComponent'
    },
    {
        name: 'description',
        component: FormlyDescriptionWrapperComponent,
        componentName: 'FormlyDescriptionWrapperComponent'
    },
    {
        name: 'validation',
        component: FormlyValidationWrapperComponent,
        componentName: 'FormlyValidationWrapperComponent'
    },
    {
        name: 'group',
        component: FormlyGroupWrapperComponent,
        componentName: 'FormlyGroupWrapperComponent'
    },
    {
        name: 'customwrapper',
        component: FormlyCustomWrapperComponent,
        componentName: 'FormlyCustomWrapperComponent'
    }
];
export const FORMLY_CONFIG = {
    types: [
        {
            name: 'formly-group',
            wrappers: sdsGroupWrapper
        },
        {
            name: 'button',
            component: FormlyFieldButtonComponent
        },
        {
            name: 'customtext',
            component: FormlyFieldTextComponent,
            wrappers: sdsWrappers
        },
        {
            name: 'input',
            component: FormlyFieldInputComponent,
            wrappers: sdsWrappers
        },
        {
            name: 'checkbox',
            component: FormlyFieldCheckboxComponent,
            wrappers: sdsWrappers
        },
        {
            name: 'radio',
            component: FormlyFieldRadioComponent,
            wrappers: sdsWrappers
        },
        {
            name: 'select',
            component: FormlyFieldSelectComponent,
            wrappers: sdsWrappers
        },
        {
            name: 'textarea',
            component: FormlyFieldTextAreaComponent,
            wrappers: sdsWrappers
        },
        {
            name: 'multicheckbox',
            component: FormlyFieldMultiCheckboxComponent,
            wrappers: sdsWrappers
        },
        {
            name: 'autocomplete',
            component: FormlyFieldAutoCompleteComponent,
            wrappers: sdsWrappers
        },
        {
            name: 'datepicker',
            component: FormlyFieldDatePickerComponent,
            wrappers: sdsWrappers,
            defaultOptions: {
                validators: {
                    validation: [maxDateValidator, minDateValidator]
                }
            }
        },
        {
            name: 'daterangepicker',
            extends: 'formly-group',
            wrappers: sdsWrappers,
            defaultOptions: {
                fieldGroup: [
                    {
                        type: 'datepicker',
                        key: 'fromDate',
                        templateOptions: {
                            label: 'From'
                        },
                        expressionProperties: {
                            'templateOptions.minDate': minDateFromDateRangePicker,
                            'templateOptions.maxDate': maxDateFromDateRangePicker
                        }
                    },
                    {
                        type: 'datepicker',
                        key: 'toDate',
                        templateOptions: {
                            label: 'To'
                        },
                        expressionProperties: {
                            'templateOptions.minDate': minDateToDateRangePicker,
                            'templateOptions.maxDate': maxDateToDateRangePicker
                        }
                    }
                ]
            }
        },
        {
            name: 'search',
            component: FormlyFieldSearchComponent,
            wrappers: sdsWrappers
        }
    ],
    wrappers: [
        { name: 'label', component: FormlyLabelWrapperComponent },
        { name: 'description', component: FormlyDescriptionWrapperComponent },
        { name: 'validation', component: FormlyValidationWrapperComponent },
        { name: 'group', component: FormlyGroupWrapperComponent },
        { name: 'form-field', component: FormlyWrapperFormFieldComponent },
        { name: 'accordionwrapper', component: FormlyAccordianFormFieldComponent },
        { name: 'filterwrapper', component: FormlyFormFieldFilterWrapperComponent },
        { name: 'customwrapper', component: FormlyCustomWrapperComponent }
    ]
};
export function minDateToDateRangePicker(model, formState, field) {
    let date = null;
    //Setting a minumn date for the date range picker
    if (field.parent.templateOptions.minDate) {
        date = new Date(field.parent.templateOptions.minDate.getTime());
    }
    if (model) {
        if (model.fromDate) {
            date = model.fromDate;
        }
    }
    return date;
}
export function minDateFromDateRangePicker(model, formState, field) {
    let date = null;
    //Setting a minumn date for the date range picker
    if (field.parent.templateOptions.minDate) {
        date = new Date(field.parent.templateOptions.minDate.getTime());
    }
    return date;
}
export function maxDateToDateRangePicker(model, formState, field) {
    let date = null;
    //Setting a max date for the date range picker
    if (field.parent.templateOptions.maxDate) {
        date = new Date(field.parent.templateOptions.maxDate.getTime());
    }
    return date;
}
export function maxDateFromDateRangePicker(model, formState, field) {
    let date = null;
    //Setting a max date for the date range picker
    if (field.parent.templateOptions.maxDate) {
        date = new Date(field.parent.templateOptions.maxDate);
    }
    if (model) {
        if (model.toDate) {
            date = model.toDate;
        }
    }
    return date;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWx5LmNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc2Etc2FtL3NhbS1mb3JtbHkvIiwic291cmNlcyI6WyJsaWIvZm9ybWx5L2Zvcm1seS5jb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDekUsT0FBTyxFQUFFLCtCQUErQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDaEYsT0FBTyxFQUFFLGlDQUFpQyxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDcEYsT0FBTyxFQUFFLHFDQUFxQyxFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDNUYsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVELE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxRCxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNoRSxPQUFPLEVBQUUsaUNBQWlDLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMxRSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNoRSxPQUFPLEVBQUUsZ0NBQWdDLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsOEJBQThCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFeEQsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUc7SUFDbkMseUJBQXlCO0lBQ3pCLDRCQUE0QjtJQUM1Qix5QkFBeUI7SUFDekIsMEJBQTBCO0lBQzFCLDRCQUE0QjtJQUM1QixpQ0FBaUM7SUFDakMsK0JBQStCO0lBQy9CLGlD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QUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7S0FDakU7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFFRCxNQUFNLFVBQVUsd0JBQXdCLENBQ3RDLEtBQVUsRUFDVixTQUFjLEVBQ2QsS0FBd0I7SUFFeEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2hCLDhDQUE4QztJQUM5QyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRTtRQUN4QyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7S0FDakU7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFFRCxNQUFNLFVBQVUsMEJBQTBCLENBQ3hDLEtBQVUsRUFDVixTQUFjLEVBQ2QsS0FBd0I7SUFFeEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2hCLDhDQUE4QztJQUM5QyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRTtRQUN4QyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDdkQ7SUFDRCxJQUFJLEtBQUssRUFBRTtRQUNULElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUNoQixJQUFJLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztTQUNyQjtLQUNGO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlnT3B0aW9uLCBGb3JtbHlGaWVsZENvbmZpZyB9IGZyb20gJ0BuZ3gtZm9ybWx5L2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgRm9ybWx5Q3VzdG9tV3JhcHBlckNvbXBvbmVudCB9IGZyb20gJy4vd3JhcHBlcnMvY3VzdG9tLXdyYXBwZXInO1xyXG5pbXBvcnQgeyBGb3JtbHlXcmFwcGVyRm9ybUZpZWxkQ29tcG9uZW50IH0gZnJvbSAnLi93cmFwcGVycy9mb3JtLWZpZWxkLndyYXBwZXInO1xyXG5pbXBvcnQgeyBGb3JtbHlBY2NvcmRpYW5Gb3JtRmllbGRDb21wb25lbnQgfSBmcm9tICcuL3dyYXBwZXJzL2Zvcm0tZmllbGQuYWNjb3JkaWFuJztcclxuaW1wb3J0IHsgRm9ybWx5Rm9ybUZpZWxkRmlsdGVyV3JhcHBlckNvbXBvbmVudCB9IGZyb20gJy4vd3JhcHBlcnMvZm9ybS1maWVsZC5maWx0ZXJ3cmFwcGVyJztcclxuaW1wb3J0IHsgRm9ybWx5RmllbGRJbnB1dENvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvaW5wdXQnO1xyXG5pbXBvcnQgeyBGb3JtbHlGaWVsZFNlbGVjdENvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvc2VsZWN0JztcclxuaW1wb3J0IHsgRm9ybWx5RmllbGRSYWRpb0NvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvcmFkaW8nO1xyXG5pbXBvcnQgeyBGb3JtbHlGaWVsZENoZWNrYm94Q29tcG9uZW50IH0gZnJvbSAnLi90eXBlcy9jaGVja2JveCc7XHJcbmltcG9ydCB7IEZvcm1seUZpZWxkTXVsdGlDaGVja2JveENvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvbXVsdGljaGVja2JveCc7XHJcbmltcG9ydCB7IEZvcm1seUZpZWxkVGV4dEFyZWFDb21wb25lbnQgfSBmcm9tICcuL3R5cGVzL3RleHRhcmVhJztcclxuaW1wb3J0IHsgRm9ybWx5RmllbGRBdXRvQ29tcGxldGVDb21wb25lbnQgfSBmcm9tICcuL3R5cGVzL2F1dG9jb21wbGV0ZSc7XHJcbmltcG9ydCB7IEZvcm1seUZpZWxkRGF0ZVBpY2tlckNvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvZGF0ZXBpY2tlcic7XHJcbmltcG9ydCB7IEZvcm1seUZpZWxkQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi90eXBlcy9idXR0b24nO1xyXG5pbXBvcnQgeyBGb3JtbHlGaWVsZFRleHRDb21wb25lbnQgfSBmcm9tICcuL3R5cGVzL3RleHQnO1xyXG5cclxuZXhwb3J0IGNvbnN0IEZJRUxEX1RZUEVfQ09NUE9ORU5UUyA9IFtcclxuICBGb3JtbHlGaWVsZElucHV0Q29tcG9uZW50LFxyXG4gIEZvcm1seUZpZWxkQ2hlY2tib3hDb21wb25lbnQsXHJcbiAgRm9ybWx5RmllbGRSYWRpb0NvbXBvbmVudCxcclxuICBGb3JtbHlGaWVsZFNlbGVjdENvbXBvbmVudCxcclxuICBGb3JtbHlGaWVsZFRleHRBcmVhQ29tcG9uZW50LFxyXG4gIEZvcm1seUZpZWxkTXVsdGlDaGVja2JveENvbXBvbmVudCxcclxuICBGb3JtbHlXcmFwcGVyRm9ybUZpZWxkQ29tcG9uZW50LFxyXG4gIEZvcm1seUFjY29yZGlhbkZvcm1GaWVsZENvbXBvbmVudCxcclxuICBGb3JtbHlGaWVsZEF1dG9Db21wbGV0ZUNvbXBvbmVudCxcclxuICBGb3JtbHlGaWVsZERhdGVQaWNrZXJDb21wb25lbnQsXHJcbiAgRm9ybWx5Rm9ybUZpZWxkRmlsdGVyV3JhcHBlckNvbXBvbmVudCxcclxuICBGb3JtbHlGaWVsZEJ1dHRvbkNvbXBvbmVudCxcclxuICBGb3JtbHlDdXN0b21XcmFwcGVyQ29tcG9uZW50LFxyXG4gIEZvcm1seUxhYmVsV3JhcHBlckNvbXBvbmVudCxcclxuICBGb3JtbHlEZXNjcmlwdGlvbldyYXBwZXJDb21wb25lbnQsXHJcbiAgRm9ybWx5VmFsaWRhdGlvbldyYXBwZXJDb21wb25lbnQsXHJcbiAgRm9ybWx5RmllbGRUZXh0Q29tcG9uZW50LFxyXG4gIEZvcm1seUdyb3VwV3JhcHBlckNvbXBvbmVudCxcclxuICBGb3JtbHlGaWVsZFNlYXJjaENvbXBvbmVudFxyXG5dO1xyXG5pbXBvcnQgeyBtYXhEYXRlVmFsaWRhdG9yLCBtaW5EYXRlVmFsaWRhdG9yIH0gZnJvbSAnLi9mb3JtbHkudmFsaWRhdG9ycyc7XHJcbmltcG9ydCB7IHNkc1dyYXBwZXJzLCBzZHNHcm91cFdyYXBwZXIgfSBmcm9tICcuL3Nkcy1mb3JtbHktb3B0aW9ucyc7XHJcbmltcG9ydCB7IEZvcm1seUxhYmVsV3JhcHBlckNvbXBvbmVudCB9IGZyb20gJy4vd3JhcHBlcnMvbGFiZWwud3JhcHBlcic7XHJcbmltcG9ydCB7IEZvcm1seURlc2NyaXB0aW9uV3JhcHBlckNvbXBvbmVudCB9IGZyb20gJy4vd3JhcHBlcnMvZGVzY3JpcHRpb24ud3JhcHBlcic7XHJcbmltcG9ydCB7IEZvcm1seVZhbGlkYXRpb25XcmFwcGVyQ29tcG9uZW50IH0gZnJvbSAnLi93cmFwcGVycy92YWxpZGF0aW9uLndyYXBwZXInO1xyXG5pbXBvcnQgeyBGb3JtbHlHcm91cFdyYXBwZXJDb21wb25lbnQgfSBmcm9tICcuL3dyYXBwZXJzL2dyb3VwLndyYXBwZXInO1xyXG5pbXBvcnQgeyBGb3JtbHlGaWVsZFNlYXJjaENvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvc2VhcmNoJztcclxuXHJcbmV4cG9ydCBjb25zdCBGT1JNTFlfV1JBUFBFUlM6IGFueSA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAnZm9ybS1maWVsZCcsXHJcbiAgICBjb21wb25lbnQ6IEZvcm1seVdyYXBwZXJGb3JtRmllbGRDb21wb25lbnQsXHJcbiAgICBjb21wb25lbnROYW1lOiAnRm9ybWx5V3JhcHBlckZvcm1GaWVsZENvbXBvbmVudCdcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICdhY2NvcmRpb253cmFwcGVyJyxcclxuICAgIGNvbXBvbmVudDogRm9ybWx5QWNjb3JkaWFuRm9ybUZpZWxkQ29tcG9uZW50LFxyXG4gICAgY29tcG9uZW50TmFtZTogJ0Zvcm1seUFjY29yZGlhbkZvcm1GaWVsZENvbXBvbmVudCdcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICdmaWx0ZXJ3cmFwcGVyJyxcclxuICAgIGNvbXBvbmVudDogRm9ybWx5Rm9ybUZpZWxkRmlsdGVyV3JhcHBlckNvbXBvbmVudCxcclxuICAgIGNvbXBvbmVudE5hbWU6ICdGb3JtbHlGb3JtRmllbGRGaWx0ZXJXcmFwcGVyQ29tcG9uZW50J1xyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6ICdsYWJlbCcsXHJcbiAgICBjb21wb25lbnQ6IEZvcm1seUxhYmVsV3JhcHBlckNvbXBvbmVudCxcclxuICAgIGNvbXBvbmVudE5hbWU6ICdGb3JtbHlMYWJlbFdyYXBwZXJDb21wb25lbnQnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAnZGVzY3JpcHRpb24nLFxyXG4gICAgY29tcG9uZW50OiBGb3JtbHlEZXNjcmlwdGlvbldyYXBwZXJDb21wb25lbnQsXHJcbiAgICBjb21wb25lbnROYW1lOiAnRm9ybWx5RGVzY3JpcHRpb25XcmFwcGVyQ29tcG9uZW50J1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ3ZhbGlkYXRpb24nLFxyXG4gICAgY29tcG9uZW50OiBGb3JtbHlWYWxpZGF0aW9uV3JhcHBlckNvbXBvbmVudCxcclxuICAgIGNvbXBvbmVudE5hbWU6ICdGb3JtbHlWYWxpZGF0aW9uV3JhcHBlckNvbXBvbmVudCdcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICdncm91cCcsXHJcbiAgICBjb21wb25lbnQ6IEZvcm1seUdyb3VwV3JhcHBlckNvbXBvbmVudCxcclxuICAgIGNvbXBvbmVudE5hbWU6ICdGb3JtbHlHcm91cFdyYXBwZXJDb21wb25lbnQnXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogJ2N1c3RvbXdyYXBwZXInLFxyXG4gICAgY29tcG9uZW50OiBGb3JtbHlDdXN0b21XcmFwcGVyQ29tcG9uZW50LFxyXG4gICAgY29tcG9uZW50TmFtZTogJ0Zvcm1seUN1c3RvbVdyYXBwZXJDb21wb25lbnQnXHJcbiAgfVxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IEZPUk1MWV9DT05GSUc6IENvbmZpZ09wdGlvbiA9IHtcclxuICB0eXBlczogW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiAnZm9ybWx5LWdyb3VwJyxcclxuICAgICAgd3JhcHBlcnM6IHNkc0dyb3VwV3JhcHBlclxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ2J1dHRvbicsXHJcbiAgICAgIGNvbXBvbmVudDogRm9ybWx5RmllbGRCdXR0b25Db21wb25lbnRcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICdjdXN0b210ZXh0JyxcclxuICAgICAgY29tcG9uZW50OiBGb3JtbHlGaWVsZFRleHRDb21wb25lbnQsXHJcbiAgICAgIHdyYXBwZXJzOiBzZHNXcmFwcGVyc1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ2lucHV0JyxcclxuICAgICAgY29tcG9uZW50OiBGb3JtbHlGaWVsZElucHV0Q29tcG9uZW50LFxyXG4gICAgICB3cmFwcGVyczogc2RzV3JhcHBlcnNcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICdjaGVja2JveCcsXHJcbiAgICAgIGNvbXBvbmVudDogRm9ybWx5RmllbGRDaGVja2JveENvbXBvbmVudCxcclxuICAgICAgd3JhcHBlcnM6IHNkc1dyYXBwZXJzXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAncmFkaW8nLFxyXG4gICAgICBjb21wb25lbnQ6IEZvcm1seUZpZWxkUmFkaW9Db21wb25lbnQsXHJcbiAgICAgIHdyYXBwZXJzOiBzZHNXcmFwcGVyc1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ3NlbGVjdCcsXHJcbiAgICAgIGNvbXBvbmVudDogRm9ybWx5RmllbGRTZWxlY3RDb21wb25lbnQsXHJcbiAgICAgIHdyYXBwZXJzOiBzZHNXcmFwcGVyc1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ3RleHRhcmVhJyxcclxuICAgICAgY29tcG9uZW50OiBGb3JtbHlGaWVsZFRleHRBcmVhQ29tcG9uZW50LFxyXG4gICAgICB3cmFwcGVyczogc2RzV3JhcHBlcnNcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICdtdWx0aWNoZWNrYm94JyxcclxuICAgICAgY29tcG9uZW50OiBGb3JtbHlGaWVsZE11bHRpQ2hlY2tib3hDb21wb25lbnQsXHJcbiAgICAgIHdyYXBwZXJzOiBzZHNXcmFwcGVyc1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ2F1dG9jb21wbGV0ZScsXHJcbiAgICAgIGNvbXBvbmVudDogRm9ybWx5RmllbGRBdXRvQ29tcGxldGVDb21wb25lbnQsXHJcbiAgICAgIHdyYXBwZXJzOiBzZHNXcmFwcGVyc1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ2RhdGVwaWNrZXInLFxyXG4gICAgICBjb21wb25lbnQ6IEZvcm1seUZpZWxkRGF0ZVBpY2tlckNvbXBvbmVudCxcclxuICAgICAgd3JhcHBlcnM6IHNkc1dyYXBwZXJzLFxyXG4gICAgICBkZWZhdWx0T3B0aW9uczoge1xyXG4gICAgICAgIHZhbGlkYXRvcnM6IHtcclxuICAgICAgICAgIHZhbGlkYXRpb246IFttYXhEYXRlVmFsaWRhdG9yLCBtaW5EYXRlVmFsaWRhdG9yXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ2RhdGVyYW5nZXBpY2tlcicsXHJcbiAgICAgIGV4dGVuZHM6ICdmb3JtbHktZ3JvdXAnLFxyXG4gICAgICB3cmFwcGVyczogc2RzV3JhcHBlcnMsXHJcbiAgICAgIGRlZmF1bHRPcHRpb25zOiB7XHJcbiAgICAgICAgZmllbGRHcm91cDogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiAnZGF0ZXBpY2tlcicsXHJcbiAgICAgICAgICAgIGtleTogJ2Zyb21EYXRlJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgbGFiZWw6ICdGcm9tJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBleHByZXNzaW9uUHJvcGVydGllczoge1xyXG4gICAgICAgICAgICAgICd0ZW1wbGF0ZU9wdGlvbnMubWluRGF0ZSc6IG1pbkRhdGVGcm9tRGF0ZVJhbmdlUGlja2VyLFxyXG4gICAgICAgICAgICAgICd0ZW1wbGF0ZU9wdGlvbnMubWF4RGF0ZSc6IG1heERhdGVGcm9tRGF0ZVJhbmdlUGlja2VyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdkYXRlcGlja2VyJyxcclxuICAgICAgICAgICAga2V5OiAndG9EYXRlJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgbGFiZWw6ICdUbydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXhwcmVzc2lvblByb3BlcnRpZXM6IHtcclxuICAgICAgICAgICAgICAndGVtcGxhdGVPcHRpb25zLm1pbkRhdGUnOiBtaW5EYXRlVG9EYXRlUmFuZ2VQaWNrZXIsXHJcbiAgICAgICAgICAgICAgJ3RlbXBsYXRlT3B0aW9ucy5tYXhEYXRlJzogbWF4RGF0ZVRvRGF0ZVJhbmdlUGlja2VyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICBdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICdzZWFyY2gnLFxyXG4gICAgICBjb21wb25lbnQ6IEZvcm1seUZpZWxkU2VhcmNoQ29tcG9uZW50LFxyXG4gICAgICB3cmFwcGVyczogc2RzV3JhcHBlcnNcclxuICAgIH1cclxuICBdLFxyXG4gIHdyYXBwZXJzOiBbXHJcbiAgICB7IG5hbWU6ICdsYWJlbCcsIGNvbXBvbmVudDogRm9ybWx5TGFiZWxXcmFwcGVyQ29tcG9uZW50IH0sXHJcbiAgICB7IG5hbWU6ICdkZXNjcmlwdGlvbicsIGNvbXBvbmVudDogRm9ybWx5RGVzY3JpcHRpb25XcmFwcGVyQ29tcG9uZW50IH0sXHJcbiAgICB7IG5hbWU6ICd2YWxpZGF0aW9uJywgY29tcG9uZW50OiBGb3JtbHlWYWxpZGF0aW9uV3JhcHBlckNvbXBvbmVudCB9LFxyXG4gICAgeyBuYW1lOiAnZ3JvdXAnLCBjb21wb25lbnQ6IEZvcm1seUdyb3VwV3JhcHBlckNvbXBvbmVudCB9LFxyXG4gICAgeyBuYW1lOiAnZm9ybS1maWVsZCcsIGNvbXBvbmVudDogRm9ybWx5V3JhcHBlckZvcm1GaWVsZENvbXBvbmVudCB9LFxyXG4gICAgeyBuYW1lOiAnYWNjb3JkaW9ud3JhcHBlcicsIGNvbXBvbmVudDogRm9ybWx5QWNjb3JkaWFuRm9ybUZpZWxkQ29tcG9uZW50IH0sXHJcbiAgICB7IG5hbWU6ICdmaWx0ZXJ3cmFwcGVyJywgY29tcG9uZW50OiBGb3JtbHlGb3JtRmllbGRGaWx0ZXJXcmFwcGVyQ29tcG9uZW50IH0sXHJcbiAgICB7IG5hbWU6ICdjdXN0b213cmFwcGVyJywgY29tcG9uZW50OiBGb3JtbHlDdXN0b21XcmFwcGVyQ29tcG9uZW50IH1cclxuICBdXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWluRGF0ZVRvRGF0ZVJhbmdlUGlja2VyKFxyXG4gIG1vZGVsOiBhbnksXHJcbiAgZm9ybVN0YXRlOiBhbnksXHJcbiAgZmllbGQ6IEZvcm1seUZpZWxkQ29uZmlnXHJcbikge1xyXG4gIGxldCBkYXRlID0gbnVsbDtcclxuICAvL1NldHRpbmcgYSBtaW51bW4gZGF0ZSBmb3IgdGhlIGRhdGUgcmFuZ2UgcGlja2VyXHJcbiAgaWYgKGZpZWxkLnBhcmVudC50ZW1wbGF0ZU9wdGlvbnMubWluRGF0ZSkge1xyXG4gICAgZGF0ZSA9IG5ldyBEYXRlKGZpZWxkLnBhcmVudC50ZW1wbGF0ZU9wdGlvbnMubWluRGF0ZS5nZXRUaW1lKCkpO1xyXG4gIH1cclxuICBpZiAobW9kZWwpIHtcclxuICAgIGlmIChtb2RlbC5mcm9tRGF0ZSkge1xyXG4gICAgICBkYXRlID0gbW9kZWwuZnJvbURhdGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbkRhdGVGcm9tRGF0ZVJhbmdlUGlja2VyKFxyXG4gIG1vZGVsOiBhbnksXHJcbiAgZm9ybVN0YXRlOiBhbnksXHJcbiAgZmllbGQ6IEZvcm1seUZpZWxkQ29uZmlnXHJcbikge1xyXG4gIGxldCBkYXRlID0gbnVsbDtcclxuICAvL1NldHRpbmcgYSBtaW51bW4gZGF0ZSBmb3IgdGhlIGRhdGUgcmFuZ2UgcGlja2VyXHJcbiAgaWYgKGZpZWxkLnBhcmVudC50ZW1wbGF0ZU9wdGlvbnMubWluRGF0ZSkge1xyXG4gICAgZGF0ZSA9IG5ldyBEYXRlKGZpZWxkLnBhcmVudC50ZW1wbGF0ZU9wdGlvbnMubWluRGF0ZS5nZXRUaW1lKCkpO1xyXG4gIH1cclxuICByZXR1cm4gZGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1heERhdGVUb0RhdGVSYW5nZVBpY2tlcihcclxuICBtb2RlbDogYW55LFxyXG4gIGZvcm1TdGF0ZTogYW55LFxyXG4gIGZpZWxkOiBGb3JtbHlGaWVsZENvbmZpZ1xyXG4pIHtcclxuICBsZXQgZGF0ZSA9IG51bGw7XHJcbiAgLy9TZXR0aW5nIGEgbWF4IGRhdGUgZm9yIHRoZSBkYXRlIHJhbmdlIHBpY2tlclxyXG4gIGlmIChmaWVsZC5wYXJlbnQudGVtcGxhdGVPcHRpb25zLm1heERhdGUpIHtcclxuICAgIGRhdGUgPSBuZXcgRGF0ZShmaWVsZC5wYXJlbnQudGVtcGxhdGVPcHRpb25zLm1heERhdGUuZ2V0VGltZSgpKTtcclxuICB9XHJcbiAgcmV0dXJuIGRhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXhEYXRlRnJvbURhdGVSYW5nZVBpY2tlcihcclxuICBtb2RlbDogYW55LFxyXG4gIGZvcm1TdGF0ZTogYW55LFxyXG4gIGZpZWxkOiBGb3JtbHlGaWVsZENvbmZpZ1xyXG4pIHtcclxuICBsZXQgZGF0ZSA9IG51bGw7XHJcbiAgLy9TZXR0aW5nIGEgbWF4IGRhdGUgZm9yIHRoZSBkYXRlIHJhbmdlIHBpY2tlclxyXG4gIGlmIChmaWVsZC5wYXJlbnQudGVtcGxhdGVPcHRpb25zLm1heERhdGUpIHtcclxuICAgIGRhdGUgPSBuZXcgRGF0ZShmaWVsZC5wYXJlbnQudGVtcGxhdGVPcHRpb25zLm1heERhdGUpO1xyXG4gIH1cclxuICBpZiAobW9kZWwpIHtcclxuICAgIGlmIChtb2RlbC50b0RhdGUpIHtcclxuICAgICAgZGF0ZSA9IG1vZGVsLnRvRGF0ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGRhdGU7XHJcbn1cclxuIl19