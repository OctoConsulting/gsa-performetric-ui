/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, forwardRef, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
var SdsTextComponent = /** @class */ (function () {
    function SdsTextComponent(cd) {
        this.cd = cd;
        this.items = [];
        this.multiple = true;
        this._onChange = (/**
         * @param {?} _
         * @return {?}
         */
        function (_) { });
        this._onTouched = (/**
         * @return {?}
         */
        function () { });
    }
    // Helper method to programatically add a value to the existing items array
    // Helper method to programatically add a value to the existing items array
    /**
     * @param {?} val
     * @return {?}
     */
    SdsTextComponent.prototype.addItem = 
    // Helper method to programatically add a value to the existing items array
    /**
     * @param {?} val
     * @return {?}
     */
    function (val) {
        if (this.multiple) {
            this.items = tslib_1.__spread(this.items, [val]);
            this.updateModel();
        }
    };
    // Method that is fired when the child component event notifies us that the items array has been modified within the child component
    // Method that is fired when the child component event notifies us that the items array has been modified within the child component
    /**
     * @param {?} $event
     * @return {?}
     */
    SdsTextComponent.prototype.updateItems = 
    // Method that is fired when the child component event notifies us that the items array has been modified within the child component
    /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.updateModel();
    };
    // Helper method that gets a new instance of the model and notifies ControlValueAccessor that we have a new model for this FormControl (our custom component)
    // Helper method that gets a new instance of the model and notifies ControlValueAccessor that we have a new model for this FormControl (our custom component)
    /**
     * @return {?}
     */
    SdsTextComponent.prototype.updateModel = 
    // Helper method that gets a new instance of the model and notifies ControlValueAccessor that we have a new model for this FormControl (our custom component)
    /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var model = this.getModel();
        this._onChange(model);
    };
    // Helper method to return a new instance of an array that contains our items
    // Helper method to return a new instance of an array that contains our items
    /**
     * @return {?}
     */
    SdsTextComponent.prototype.getModel = 
    // Helper method to return a new instance of an array that contains our items
    /**
     * @return {?}
     */
    function () {
        return tslib_1.__spread(this.items);
    };
    // ControlValueAccessor (and Formly) is trying to update the value of the FormControl (our custom component) programatically
    // If there is a value we will just overwrite items
    // If there is no value we reset the items array to be empty
    // ControlValueAccessor (and Formly) is trying to update the value of the FormControl (our custom component) programatically
    // If there is a value we will just overwrite items
    // If there is no value we reset the items array to be empty
    /**
     * @param {?} value
     * @return {?}
     */
    SdsTextComponent.prototype.writeValue = 
    // ControlValueAccessor (and Formly) is trying to update the value of the FormControl (our custom component) programatically
    // If there is a value we will just overwrite items
    // If there is no value we reset the items array to be empty
    /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value && value.length && this.items !== value) {
            this.items = value;
            this.cd.markForCheck();
        }
        else {
            this.items = [];
            this.cd.markForCheck();
        }
    };
    // ControlValueAccessor hook that lets us call this._onChange(var) to let the form know our variable has changed (in this case model)
    // ControlValueAccessor hook that lets us call this._onChange(var) to let the form know our variable has changed (in this case model)
    /**
     * @param {?} fn
     * @return {?}
     */
    SdsTextComponent.prototype.registerOnChange = 
    // ControlValueAccessor hook that lets us call this._onChange(var) to let the form know our variable has changed (in this case model)
    /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this._onChange = fn;
    };
    // ControlValueAccessor hook (not used)
    // ControlValueAccessor hook (not used)
    /**
     * @param {?} fn
     * @return {?}
     */
    SdsTextComponent.prototype.registerOnTouched = 
    // ControlValueAccessor hook (not used)
    /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this._onTouched = fn;
    };
    SdsTextComponent.decorators = [
        { type: Component, args: [{
                    selector: 'sds-text',
                    template: "\n    <div>\n      <input #searchInput class=\"usa-input display-inline-block\" />\n      <button class=\"usa-button margin-left-05 display-inline-block\" (click)=\"addItem(searchInput.value); searchInput.value=''\">Add Item</button>\n    </div>\n\n    <h4>Component Items</h4>\n    <pre>{{ items | json }}</pre>\n\n    <hr />\n\n    <h4>Child Component Items <small>(click to remove)</small></h4>\n    <sds-text-child [(items)]=\"items\" (itemsChange)=\"updateItems($event)\"></sds-text-child>\n  ",
                    providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef((/**
                             * @return {?}
                             */
                            function () { return SdsTextComponent; })),
                            multi: true
                        }
                    ],
                    changeDetection: ChangeDetectionStrategy.OnPush
                }] }
    ];
    /** @nocollapse */
    SdsTextComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef }
    ]; };
    return SdsTextComponent;
}());
export { SdsTextComponent };
if (false) {
    /** @type {?} */
    SdsTextComponent.prototype.items;
    /** @type {?} */
    SdsTextComponent.prototype.multiple;
    /**
     * @type {?}
     * @private
     */
    SdsTextComponent.prototype._onChange;
    /**
     * @type {?}
     * @private
     */
    SdsTextComponent.prototype._onTouched;
    /**
     * @type {?}
     * @private
     */
    SdsTextComponent.prototype.cd;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NhLXNhbS9jb21wb25lbnRzLyIsInNvdXJjZXMiOlsibGliL3RleHQvdGV4dC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSx1QkFBdUIsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNsRyxPQUFPLEVBQXdCLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFekU7SUFpQ0UsMEJBQW9CLEVBQXFCO1FBQXJCLE9BQUUsR0FBRixFQUFFLENBQW1CO1FBTnpDLFVBQUssR0FBRyxFQUFFLENBQUM7UUFDWCxhQUFRLEdBQUcsSUFBSSxDQUFDO1FBRVIsY0FBUzs7OztRQUFHLFVBQUMsQ0FBTSxJQUFPLENBQUMsRUFBQztRQUM1QixlQUFVOzs7UUFBRyxjQUFRLENBQUMsRUFBQztJQUVjLENBQUM7SUFFOUMsMkVBQTJFOzs7Ozs7SUFDM0Usa0NBQU87Ozs7OztJQUFQLFVBQVEsR0FBRztRQUNULElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBQztZQUNmLElBQUksQ0FBQyxLQUFLLG9CQUFPLElBQUksQ0FBQyxLQUFLLEdBQUUsR0FBRyxFQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3BCO0lBQ0gsQ0FBQztJQUVELG9JQUFvSTs7Ozs7O0lBQ3BJLHNDQUFXOzs7Ozs7SUFBWCxVQUFZLE1BQU07UUFDaEIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRCw2SkFBNko7Ozs7O0lBQzdKLHNDQUFXOzs7OztJQUFYOztZQUNRLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFO1FBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVELDZFQUE2RTs7Ozs7SUFDN0UsbUNBQVE7Ozs7O0lBQVI7UUFDRSx3QkFBVyxJQUFJLENBQUMsS0FBSyxFQUFFO0lBQ3pCLENBQUM7SUFFRCw0SEFBNEg7SUFDNUgsbURBQW1EO0lBQ25ELDREQUE0RDs7Ozs7Ozs7SUFDNUQscUNBQVU7Ozs7Ozs7O0lBQVYsVUFBVyxLQUFVO1FBQ25CLElBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLEVBQUU7WUFDaEQsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDbkIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztTQUN4QjthQUFNO1lBQ0wsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDaEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztTQUN4QjtJQUNILENBQUM7SUFFRCxxSUFBcUk7Ozs7OztJQUNySSwyQ0FBZ0I7Ozs7OztJQUFoQixVQUFpQixFQUFPO1FBQ3RCLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCx1Q0FBdUM7Ozs7OztJQUN2Qyw0Q0FBaUI7Ozs7OztJQUFqQixVQUFrQixFQUFPO1FBQ3ZCLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7O2dCQWhGRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLFVBQVU7b0JBQ3BCLFFBQVEsRUFBRSxvZkFhVDtvQkFDRCxTQUFTLEVBQUU7d0JBQ1Q7NEJBQ0UsT0FBTyxFQUFFLGlCQUFpQjs0QkFDMUIsV0FBVyxFQUFFLFVBQVU7Ozs0QkFBQyxjQUFNLE9BQUEsZ0JBQWdCLEVBQWhCLENBQWdCLEVBQUM7NEJBQy9DLEtBQUssRUFBRSxJQUFJO3lCQUNaO3FCQUNGO29CQUNELGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO2lCQUNoRDs7OztnQkEzQndELGlCQUFpQjs7SUFvRjFFLHVCQUFDO0NBQUEsQUFqRkQsSUFpRkM7U0F4RFksZ0JBQWdCOzs7SUFFM0IsaUNBQVc7O0lBQ1gsb0NBQWdCOzs7OztJQUVoQixxQ0FBb0M7Ozs7O0lBQ3BDLHNDQUErQjs7Ozs7SUFFbkIsOEJBQTZCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBmb3J3YXJkUmVmLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ2hhbmdlRGV0ZWN0b3JSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc2RzLXRleHQnLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXY+XG4gICAgICA8aW5wdXQgI3NlYXJjaElucHV0IGNsYXNzPVwidXNhLWlucHV0IGRpc3BsYXktaW5saW5lLWJsb2NrXCIgLz5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJ1c2EtYnV0dG9uIG1hcmdpbi1sZWZ0LTA1IGRpc3BsYXktaW5saW5lLWJsb2NrXCIgKGNsaWNrKT1cImFkZEl0ZW0oc2VhcmNoSW5wdXQudmFsdWUpOyBzZWFyY2hJbnB1dC52YWx1ZT0nJ1wiPkFkZCBJdGVtPC9idXR0b24+XG4gICAgPC9kaXY+XG5cbiAgICA8aDQ+Q29tcG9uZW50IEl0ZW1zPC9oND5cbiAgICA8cHJlPnt7IGl0ZW1zIHwganNvbiB9fTwvcHJlPlxuXG4gICAgPGhyIC8+XG5cbiAgICA8aDQ+Q2hpbGQgQ29tcG9uZW50IEl0ZW1zIDxzbWFsbD4oY2xpY2sgdG8gcmVtb3ZlKTwvc21hbGw+PC9oND5cbiAgICA8c2RzLXRleHQtY2hpbGQgWyhpdGVtcyldPVwiaXRlbXNcIiAoaXRlbXNDaGFuZ2UpPVwidXBkYXRlSXRlbXMoJGV2ZW50KVwiPjwvc2RzLXRleHQtY2hpbGQ+XG4gIGAsXG4gIHByb3ZpZGVyczogW1xuICAgIHtcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gU2RzVGV4dENvbXBvbmVudCksXG4gICAgICBtdWx0aTogdHJ1ZVxuICAgIH1cbiAgXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbn0pXG5leHBvcnQgY2xhc3MgU2RzVGV4dENvbXBvbmVudCBpbXBsZW1lbnRzIENvbnRyb2xWYWx1ZUFjY2Vzc29yIHtcblxuICBpdGVtcyA9IFtdO1xuICBtdWx0aXBsZSA9IHRydWU7XG5cbiAgcHJpdmF0ZSBfb25DaGFuZ2UgPSAoXzogYW55KSA9PiB7IH07XG4gIHByaXZhdGUgX29uVG91Y2hlZCA9ICgpID0+IHsgfTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNkOiBDaGFuZ2VEZXRlY3RvclJlZikgeyB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBwcm9ncmFtYXRpY2FsbHkgYWRkIGEgdmFsdWUgdG8gdGhlIGV4aXN0aW5nIGl0ZW1zIGFycmF5XG4gIGFkZEl0ZW0odmFsKSB7XG4gICAgaWYodGhpcy5tdWx0aXBsZSl7XG4gICAgICB0aGlzLml0ZW1zID0gWy4uLnRoaXMuaXRlbXMsIHZhbF07XG4gICAgICB0aGlzLnVwZGF0ZU1vZGVsKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gTWV0aG9kIHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY2hpbGQgY29tcG9uZW50IGV2ZW50IG5vdGlmaWVzIHVzIHRoYXQgdGhlIGl0ZW1zIGFycmF5IGhhcyBiZWVuIG1vZGlmaWVkIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50XG4gIHVwZGF0ZUl0ZW1zKCRldmVudCkge1xuICAgIHRoaXMudXBkYXRlTW9kZWwoKTtcbiAgfVxuXG4gIC8vIEhlbHBlciBtZXRob2QgdGhhdCBnZXRzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBtb2RlbCBhbmQgbm90aWZpZXMgQ29udHJvbFZhbHVlQWNjZXNzb3IgdGhhdCB3ZSBoYXZlIGEgbmV3IG1vZGVsIGZvciB0aGlzIEZvcm1Db250cm9sIChvdXIgY3VzdG9tIGNvbXBvbmVudClcbiAgdXBkYXRlTW9kZWwoKSB7XG4gICAgY29uc3QgbW9kZWwgPSB0aGlzLmdldE1vZGVsKCk7XG4gICAgdGhpcy5fb25DaGFuZ2UobW9kZWwpO1xuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZCB0byByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgYW4gYXJyYXkgdGhhdCBjb250YWlucyBvdXIgaXRlbXNcbiAgZ2V0TW9kZWwoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLml0ZW1zXTtcbiAgfVxuXG4gIC8vIENvbnRyb2xWYWx1ZUFjY2Vzc29yIChhbmQgRm9ybWx5KSBpcyB0cnlpbmcgdG8gdXBkYXRlIHRoZSB2YWx1ZSBvZiB0aGUgRm9ybUNvbnRyb2wgKG91ciBjdXN0b20gY29tcG9uZW50KSBwcm9ncmFtYXRpY2FsbHlcbiAgLy8gSWYgdGhlcmUgaXMgYSB2YWx1ZSB3ZSB3aWxsIGp1c3Qgb3ZlcndyaXRlIGl0ZW1zXG4gIC8vIElmIHRoZXJlIGlzIG5vIHZhbHVlIHdlIHJlc2V0IHRoZSBpdGVtcyBhcnJheSB0byBiZSBlbXB0eVxuICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICBpZih2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggJiYgdGhpcy5pdGVtcyAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuaXRlbXMgPSB2YWx1ZTtcbiAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29udHJvbFZhbHVlQWNjZXNzb3IgaG9vayB0aGF0IGxldHMgdXMgY2FsbCB0aGlzLl9vbkNoYW5nZSh2YXIpIHRvIGxldCB0aGUgZm9ybSBrbm93IG91ciB2YXJpYWJsZSBoYXMgY2hhbmdlZCAoaW4gdGhpcyBjYXNlIG1vZGVsKVxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLl9vbkNoYW5nZSA9IGZuO1xuICB9XG5cbiAgLy8gQ29udHJvbFZhbHVlQWNjZXNzb3IgaG9vayAobm90IHVzZWQpXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiBhbnkpIHtcbiAgICB0aGlzLl9vblRvdWNoZWQgPSBmbjtcbiAgfVxufVxuIl19