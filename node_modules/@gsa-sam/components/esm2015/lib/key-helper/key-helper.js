/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
export class KeyHelper {
    /**
     * @param {...?} keys
     */
    constructor(...keys) {
        this._allowedKeys = [];
        this._currentlySupported = [
            'enter', 'up', 'down', 'left', 'right', 'tab', 'esc', 'space',
            'shift', 'backspace', '1', '2', '3', '4', '5', '6', '7', '8',
            '9', '0', 'delete'
        ];
        this._setAllowedKeys(...keys);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    isAllowed(event) {
        /** @type {?} */
        const val = this._allowedKeys
            .reduce((/**
         * @param {?} val
         * @param {?} key
         * @return {?}
         */
        (val, key) => {
            return KeyHelper.is(key, event) || val;
        }), false);
        return val;
    }
    /**
     * @private
     * @param {...?} keys
     * @return {?}
     */
    _setAllowedKeys(...keys) {
        keys.forEach((/**
         * @param {?} key
         * @return {?}
         */
        key => {
            if (this._currentlySupported.indexOf(key) !== -1) {
                this._allowedKeys.push(key);
            }
            else {
                /** @type {?} */
                const ok = this._allowedToString();
                /** @type {?} */
                const msg = `Only supports ${ok} at this time`;
                throw new TypeError(msg);
            }
        }));
    }
    /**
     * @private
     * @return {?}
     */
    _allowedToString() {
        return this._allowedKeys.join(', ');
    }
    /**
     * @param {?} event
     * @return {?}
     */
    static getKeyCode(event) {
        if (!event) {
            return undefined;
        }
        else if (event.key) {
            return event.key;
        }
        else if (event.code) {
            return event.code;
        }
        else if (event.keyIdentifier) {
            return event.keyIdentifier;
        }
        else {
            return undefined;
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    static getNumberFromKey(event) {
        /** @type {?} */
        const tests = [
            KeyHelper._zero, KeyHelper._one, KeyHelper._two,
            KeyHelper._three, KeyHelper._four, KeyHelper._five,
            KeyHelper._six, KeyHelper._seven, KeyHelper._eight,
            KeyHelper._nine
        ];
        return tests.reduce((/**
         * @param {?} val
         * @param {?} test
         * @return {?}
         */
        (val, test) => {
            return val !== undefined
                ? val
                : test(event);
        }), undefined);
    }
    /**
     * @param {?} validKeyParam
     * @param {?} event
     * @return {?}
     */
    static is(validKeyParam, event) {
        /** @type {?} */
        let lowercased = validKeyParam.toLowerCase();
        switch (lowercased) {
            case 'enter':
                return this._isEnter(event);
            case 'up':
                return this._isArrowUp(event);
            case 'down':
                return this._isArrowDown(event);
            case 'left':
                return this._isArrowLeft(event);
            case 'right':
                return this._isArrowRight(event);
            case 'tab':
                return this._isTab(event);
            case 'esc':
                return this._isEscape(event);
            case 'space':
                return this._isSpace(event);
            case 'shift':
                return this._isShift(event);
            case 'backspace':
                return this._isBackspace(event);
            case 'delete':
                return this._isDelete(event);
            case '0':
                return this._isExpectedNumber(0, event);
            case '1':
                return this._isExpectedNumber(1, event);
            case '2':
                return this._isExpectedNumber(2, event);
            case '3':
                return this._isExpectedNumber(3, event);
            case '4':
                return this._isExpectedNumber(4, event);
            case '5':
                return this._isExpectedNumber(5, event);
            case '6':
                return this._isExpectedNumber(6, event);
            case '7':
                return this._isExpectedNumber(7, event);
            case '8':
                return this._isExpectedNumber(8, event);
            case '9':
                return this._isExpectedNumber(9, event);
            default:
                return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isEnter(e) {
        if (e.code === 'Enter'
            || e.key === 'Enter'
            || e.keyIdentifier === 'Enter'
            || e.which === 13
            || e.charCode === 13
            || e.keyCode === 13) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isArrowUp(e) {
        if (e.code === 'ArrowUp'
            || e.key === 'ArrowUp'
            || e.key === 'Up'
            || e.keyIdentifier === 'Up'
            || e.which === 38
            || e.keyCode === 38) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isArrowDown(e) {
        if (e.code === 'ArrowDown'
            || e.key === 'ArrowDown'
            || e.key === 'Down'
            || e.keyIdentifier === 'Down'
            || e.which === 40
            || e.keyCode === 40) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isArrowLeft(e) {
        if (e.code === 'ArrowLeft'
            || e.key === 'ArrowLeft'
            || e.key === 'Left'
            || e.keyIdentifier === 'Left'
            || e.which === 37
            || e.keyCode === 37) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isArrowRight(e) {
        if (e.code === 'ArrowRight'
            || e.key === 'ArrowRight'
            || e.key === 'Right'
            || e.keyIdentifier === 'Right'
            || e.which === 39
            || e.keyCode === 39) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isTab(e) {
        if (e.code === 'Tab'
            || e.key === 'Tab'
            || e.keyIdentifier === 'U+0009'
            || e.which === 9
            || e.keyCode === 9) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isEscape(e) {
        if (e.code === 'Escape'
            || e.key === 'Escape'
            || e.key === 'Esc'
            || e.keyIdentifier === 'U+001B'
            || e.which === 27
            || e.keyCode === 27) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isSpace(e) {
        if (e.code === 'Space'
            || e.key === ' '
            || e.key === 'Spacebar'
            || e.keyIdentifier === 'U+0020'
            || e.which === 32
            || e.keyCode === 32) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isShift(e) {
        if (e.code === 'ShiftLeft'
            || e.code === 'ShiftRight'
            || e.key === 'Shift'
            || e.keyIdentifier === 'Shift'
            || e.which === 16
            || e.keyCode === 16) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isBackspace(e) {
        if (e.code === 'Backspace'
            || e.key === 'Backspace'
            || e.keyIdentifier === 'U+0008'
            || e.which === 8
            || e.keyCode === 8) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _isDelete(e) {
        if (e.code === 'Delete'
            || e.key === 'Delete'
            || e.keyIdentifier === 'U+007F'
            || e.which === 46
            || e.keyCode === 46) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _zero(e) {
        if (e.code === 'Digit0'
            || e.code === 'Numpad0'
            || e.key === 0
            || e.keyCode === 48
            || e.keyCode === 96
            || e.keyIdentifier === 'U+0030'
            || e.which === 48) {
            return 0;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _one(e) {
        if (e.code === 'Digit1'
            || e.code === 'Numpad1'
            || e.key === 1
            || e.keyCode === 49
            || e.keyCode === 97
            || e.keyIdentifier === 'U+0031'
            || e.which === 49) {
            return 1;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _two(e) {
        if (e.code === 'Digit2'
            || e.code === 'Numpad2'
            || e.key === 2
            || e.keyCode === 50
            || e.keyCode === 98
            || e.keyIdentifier === 'U+0032'
            || e.which === 50) {
            return 2;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _three(e) {
        if (e.code === 'Digit3'
            || e.code === 'Numpad3'
            || e.key === 3
            || e.keyCode === 51
            || e.keyCode === 99
            || e.keyIdentifier === 'U+0033'
            || e.which === 51) {
            return 3;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _four(e) {
        if (e.code === 'Digit4'
            || e.code === 'Numpad4'
            || e.key === 4
            || e.keyCode === 52
            || e.keyCode === 100
            || e.keyIdentifier === 'U+0034'
            || e.which === 52) {
            return 4;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _five(e) {
        if (e.code === 'Digit5'
            || e.code === 'Numpad5'
            || e.key === 5
            || e.keyCode === 53
            || e.keyCode === 101
            || e.keyIdentifier === 'U+0035'
            || e.which === 53) {
            return 5;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _six(e) {
        if (e.code === 'Digit6'
            || e.code === 'Numpad6'
            || e.key === 6
            || e.keyCode === 54
            || e.keyCode === 102
            || e.keyIdentifier === 'U+0036'
            || e.which === 54) {
            return 6;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _seven(e) {
        if (e.code === 'Digit7'
            || e.code === 'Numpad7'
            || e.key === 7
            || e.keyCode === 55
            || e.keyCode === 103
            || e.keyIdentifier === 'U+0037'
            || e.which === 55) {
            return 7;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _eight(e) {
        if (e.code === 'Digit8'
            || e.code === 'Numpad8'
            || e.key === 8
            || e.keyCode === 56
            || e.keyCode === 104
            || e.keyIdentifier === 'U+0038'
            || e.which === 56) {
            return 8;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    static _nine(e) {
        if (e.code === 'Digit9'
            || e.code === 'Numpad9'
            || e.key === 9
            || e.keyCode === 57
            || e.keyCode === 105
            || e.keyIdentifier === 'U+0039'
            || e.which === 57) {
            return 9;
        }
        else {
            return undefined;
        }
    }
    /**
     * @private
     * @param {?} expected
     * @param {?} event
     * @return {?}
     */
    static _isExpectedNumber(expected, event) {
        return expected === KeyHelper.getNumberFromKey(event);
    }
}
if (false) {
    /**
     * @type {?}
     * @private
     */
    KeyHelper.prototype._allowedKeys;
    /**
     * @type {?}
     * @private
     */
    KeyHelper.prototype._currentlySupported;
}
/** @enum {string} */
const KEYS = {
    'ENTER': 'enter',
    'UP': 'up',
    'DOWN': 'down',
    'LEFT': 'left',
    'RIGHT': 'right',
    'TAB': 'tab',
    'ESC': 'esc',
    'SPACE': 'space',
    'SHIFT': 'shift',
    'BACKSPACE': 'backspace',
    'ONE': '1',
    'TWO': '2',
    'THREE': '3',
    'FOUR': '4',
    'FIVE': '5',
    'SIX': '6',
    'SEVEN': '7',
    'EIGHT': '8',
    'NINE': '9',
    'ZERO': '0',
    'DELETE': 'delete',
};
export { KEYS };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5LWhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc2Etc2FtL2NvbXBvbmVudHMvIiwic291cmNlcyI6WyJsaWIva2V5LWhlbHBlci9rZXktaGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNLE9BQU8sU0FBUzs7OztJQVVwQixZQUFhLEdBQUcsSUFBSTtRQVJaLGlCQUFZLEdBQWEsRUFBRSxDQUFDO1FBRTVCLHdCQUFtQixHQUFHO1lBQzVCLE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxPQUFPO1lBQ3RELE9BQU8sRUFBQyxXQUFXLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUc7WUFDbkQsR0FBRyxFQUFDLEdBQUcsRUFBRSxRQUFRO1NBQ2xCLENBQUM7UUFHQSxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDaEMsQ0FBQzs7Ozs7SUFFTSxTQUFTLENBQUUsS0FBSzs7Y0FDZixHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVk7YUFDMUIsTUFBTTs7Ozs7UUFDTCxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRTtZQUNYLE9BQU8sU0FBUyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDO1FBQ3pDLENBQUMsR0FDRCxLQUFLLENBQ047UUFDSCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7Ozs7OztJQUVPLGVBQWUsQ0FBQyxHQUFHLElBQUk7UUFDN0IsSUFBSSxDQUFDLE9BQU87Ozs7UUFDVixHQUFHLENBQUMsRUFBRTtZQUNKLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtnQkFDaEQsSUFBSSxD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Q0FBQyxLQUFLLEtBQUssRUFBRSxFQUFFO1lBQ25CLE9BQU8sQ0FBQyxDQUFDO1NBQ1Y7YUFBTTtZQUNMLE9BQU8sU0FBUyxDQUFDO1NBQ2xCO0lBQ0gsQ0FBQzs7Ozs7OztJQUVPLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBRSxRQUFRLEVBQUUsS0FBSztRQUUvQyxPQUFPLFFBQVEsS0FBSyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztDQUVGOzs7Ozs7SUExWkMsaUNBQW9DOzs7OztJQUVwQyx3Q0FJRTs7OztJQXVaRixTQUFVLE9BQU87SUFDakIsTUFBTyxJQUFJO0lBQ1gsUUFBUyxNQUFNO0lBQ2YsUUFBUyxNQUFNO0lBQ2YsU0FBVSxPQUFPO0lBQ2pCLE9BQVEsS0FBSztJQUNiLE9BQVEsS0FBSztJQUNiLFNBQVUsT0FBTztJQUNqQixTQUFVLE9BQU87SUFDakIsYUFBYyxXQUFXO0lBQ3pCLE9BQVEsR0FBRztJQUNYLE9BQVEsR0FBRztJQUNYLFNBQVUsR0FBRztJQUNiLFFBQVMsR0FBRztJQUNaLFFBQVMsR0FBRztJQUNaLE9BQVEsR0FBRztJQUNYLFNBQVUsR0FBRztJQUNiLFNBQVUsR0FBRztJQUNiLFFBQVMsR0FBRztJQUNaLFFBQVMsR0FBRztJQUNaLFVBQVcsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBLZXlIZWxwZXIge1xuXG4gIHByaXZhdGUgX2FsbG93ZWRLZXlzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIHByaXZhdGUgX2N1cnJlbnRseVN1cHBvcnRlZCA9IFtcbiAgICAnZW50ZXInLCd1cCcsJ2Rvd24nLCdsZWZ0JywncmlnaHQnLCd0YWInLCdlc2MnLCdzcGFjZScsXG4gICAgJ3NoaWZ0JywnYmFja3NwYWNlJywnMScsJzInLCczJywnNCcsJzUnLCc2JywnNycsJzgnLFxuICAgICc5JywnMCcsICdkZWxldGUnXG4gIF07XG5cbiAgY29uc3RydWN0b3IgKC4uLmtleXMpIHtcbiAgICB0aGlzLl9zZXRBbGxvd2VkS2V5cyguLi5rZXlzKTtcbiAgfVxuXG4gIHB1YmxpYyBpc0FsbG93ZWQgKGV2ZW50KTogYm9vbGVhbiB7XG4gICAgY29uc3QgdmFsID0gdGhpcy5fYWxsb3dlZEtleXNcbiAgICAgIC5yZWR1Y2UoXG4gICAgICAgICh2YWwsIGtleSkgPT4ge1xuICAgICAgICAgIHJldHVybiBLZXlIZWxwZXIuaXMoa2V5LCBldmVudCkgfHwgdmFsO1xuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2V0QWxsb3dlZEtleXMoLi4ua2V5cykge1xuICAgIGtleXMuZm9yRWFjaChcbiAgICAgIGtleSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50bHlTdXBwb3J0ZWQuaW5kZXhPZihrZXkpICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMuX2FsbG93ZWRLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBvayA9IHRoaXMuX2FsbG93ZWRUb1N0cmluZygpO1xuICAgICAgICAgIGNvbnN0IG1zZyA9IGBPbmx5IHN1cHBvcnRzICR7b2t9IGF0IHRoaXMgdGltZWA7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX2FsbG93ZWRUb1N0cmluZyAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fYWxsb3dlZEtleXMuam9pbignLCAnKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0S2V5Q29kZSAoZXZlbnQ6IGFueSk6IHN0cmluZyB7XG5cbiAgICBpZiAoIWV2ZW50KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5KSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5O1xuICAgIH0gZWxzZSBpZiAoZXZlbnQuY29kZSkge1xuICAgICAgcmV0dXJuIGV2ZW50LmNvZGU7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlJZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5SWRlbnRpZmllcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0TnVtYmVyRnJvbUtleSAoZXZlbnQpOiBudW1iZXIge1xuICAgIGNvbnN0IHRlc3RzID0gW1xuICAgICAgS2V5SGVscGVyLl96ZXJvLCBLZXlIZWxwZXIuX29uZSwgS2V5SGVscGVyLl90d28sXG4gICAgICBLZXlIZWxwZXIuX3RocmVlLCBLZXlIZWxwZXIuX2ZvdXIsIEtleUhlbHBlci5fZml2ZSxcbiAgICAgIEtleUhlbHBlci5fc2l4LCBLZXlIZWxwZXIuX3NldmVuLCBLZXlIZWxwZXIuX2VpZ2h0LFxuICAgICAgS2V5SGVscGVyLl9uaW5lXG4gICAgXTtcblxuICAgIHJldHVybiB0ZXN0cy5yZWR1Y2UoXG4gICAgICAodmFsOiBudW1iZXIgfCB1bmRlZmluZWQsIHRlc3Q6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiB2YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gdmFsXG4gICAgICAgICAgOiB0ZXN0KGV2ZW50KTtcbiAgICAgIH0sIHVuZGVmaW5lZFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGlzIChcbiAgICB2YWxpZEtleVBhcmFtOiBzdHJpbmcsXG4gICAgZXZlbnQ6IEtleWJvYXJkRXZlbnQgfCBhbnkpOiBib29sZWFuIHtcbiAgICBsZXQgbG93ZXJjYXNlZCA9IHZhbGlkS2V5UGFyYW0udG9Mb3dlckNhc2UoKTtcbiAgICBzd2l0Y2ggKGxvd2VyY2FzZWQpIHtcbiAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRW50ZXIoZXZlbnQpO1xuICAgICAgY2FzZSAndXAnOlxuICAgICAgICByZXR1cm4gdGhpcy5faXNBcnJvd1VwKGV2ZW50KTtcbiAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICByZXR1cm4gdGhpcy5faXNBcnJvd0Rvd24oZXZlbnQpO1xuICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Fycm93TGVmdChldmVudCk7XG4gICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Fycm93UmlnaHQoZXZlbnQpO1xuICAgICAgY2FzZSAndGFiJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVGFiKGV2ZW50KTtcbiAgICAgIGNhc2UgJ2VzYyc6XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0VzY2FwZShldmVudCk7XG4gICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1NwYWNlKGV2ZW50KTtcbiAgICAgIGNhc2UgJ3NoaWZ0JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2hpZnQoZXZlbnQpO1xuICAgICAgY2FzZSAnYmFja3NwYWNlJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQmFja3NwYWNlKGV2ZW50KTtcbiAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RlbGV0ZShldmVudCk7XG4gICAgICBjYXNlICcwJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRXhwZWN0ZWROdW1iZXIoMCwgZXZlbnQpO1xuICAgICAgY2FzZSAnMSc6XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0V4cGVjdGVkTnVtYmVyKDEsIGV2ZW50KTtcbiAgICAgIGNhc2UgJzInOlxuICAgICAgICByZXR1cm4gdGhpcy5faXNFeHBlY3RlZE51bWJlcigyLCBldmVudCk7XG4gICAgICBjYXNlICczJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRXhwZWN0ZWROdW1iZXIoMywgZXZlbnQpO1xuICAgICAgY2FzZSAnNCc6XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0V4cGVjdGVkTnVtYmVyKDQsIGV2ZW50KTtcbiAgICAgIGNhc2UgJzUnOlxuICAgICAgICByZXR1cm4gdGhpcy5faXNFeHBlY3RlZE51bWJlcig1LCBldmVudCk7XG4gICAgICBjYXNlICc2JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRXhwZWN0ZWROdW1iZXIoNiwgZXZlbnQpO1xuICAgICAgY2FzZSAnNyc6XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0V4cGVjdGVkTnVtYmVyKDcsIGV2ZW50KTtcbiAgICAgIGNhc2UgJzgnOlxuICAgICAgICByZXR1cm4gdGhpcy5faXNFeHBlY3RlZE51bWJlcig4LCBldmVudCk7XG4gICAgICBjYXNlICc5JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRXhwZWN0ZWROdW1iZXIoOSwgZXZlbnQpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9pc0VudGVyIChlOiBLZXlib2FyZEV2ZW50IHwgYW55KSB7XG4gICAgaWYgKGUuY29kZSA9PT0gJ0VudGVyJ1xuICAgICAgfHwgZS5rZXkgPT09ICdFbnRlcidcbiAgICAgIHx8IGUua2V5SWRlbnRpZmllciA9PT0gJ0VudGVyJ1xuICAgICAgfHwgZS53aGljaCA9PT0gMTNcbiAgICAgIHx8IGUuY2hhckNvZGUgPT09IDEzXG4gICAgICB8fCBlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9pc0Fycm93VXAgKGU6IEtleWJvYXJkRXZlbnQgfCBhbnkpIHtcbiAgICBpZiAoZS5jb2RlID09PSAnQXJyb3dVcCdcbiAgICAgIHx8IGUua2V5ID09PSAnQXJyb3dVcCdcbiAgICAgIHx8IGUua2V5ID09PSAnVXAnXG4gICAgICB8fCBlLmtleUlkZW50aWZpZXIgPT09ICdVcCdcbiAgICAgIHx8IGUud2hpY2ggPT09IDM4XG4gICAgICB8fCBlLmtleUNvZGUgPT09IDM4KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9pc0Fycm93RG93biAoZTogS2V5Ym9hcmRFdmVudCB8IGFueSkge1xuICAgIGlmIChlLmNvZGUgPT09ICdBcnJvd0Rvd24nXG4gICAgICB8fCBlLmtleSA9PT0gJ0Fycm93RG93bidcbiAgICAgIHx8IGUua2V5ID09PSAnRG93bidcbiAgICAgIHx8IGUua2V5SWRlbnRpZmllciA9PT0gJ0Rvd24nXG4gICAgICB8fCBlLndoaWNoID09PSA0MFxuICAgICAgfHwgZS5rZXlDb2RlID09PSA0MCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfaXNBcnJvd0xlZnQgKGU6IEtleWJvYXJkRXZlbnQgfCBhbnkpIHtcbiAgICBpZiAoZS5jb2RlID09PSAnQXJyb3dMZWZ0J1xuICAgICAgfHwgZS5rZXkgPT09ICdBcnJvd0xlZnQnXG4gICAgICB8fCBlLmtleSA9PT0gJ0xlZnQnXG4gICAgICB8fCBlLmtleUlkZW50aWZpZXIgPT09ICdMZWZ0J1xuICAgICAgfHwgZS53aGljaCA9PT0gMzdcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gMzcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2lzQXJyb3dSaWdodCAoZTogS2V5Ym9hcmRFdmVudCB8IGFueSkge1xuICAgIGlmIChlLmNvZGUgPT09ICdBcnJvd1JpZ2h0J1xuICAgICAgfHwgZS5rZXkgPT09ICdBcnJvd1JpZ2h0J1xuICAgICAgfHwgZS5rZXkgPT09ICdSaWdodCdcbiAgICAgIHx8IGUua2V5SWRlbnRpZmllciA9PT0gJ1JpZ2h0J1xuICAgICAgfHwgZS53aGljaCA9PT0gMzlcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gMzkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2lzVGFiIChlOiBLZXlib2FyZEV2ZW50IHwgYW55KSB7XG4gICAgaWYgKGUuY29kZSA9PT0gJ1RhYidcbiAgICAgIHx8IGUua2V5ID09PSAnVGFiJ1xuICAgICAgfHwgZS5rZXlJZGVudGlmaWVyID09PSAnVSswMDA5J1xuICAgICAgfHwgZS53aGljaCA9PT0gOVxuICAgICAgfHwgZS5rZXlDb2RlID09PSA5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9pc0VzY2FwZSAoZTogS2V5Ym9hcmRFdmVudCB8IGFueSkge1xuICAgIGlmIChlLmNvZGUgPT09ICdFc2NhcGUnXG4gICAgICB8fCBlLmtleSA9PT0gJ0VzY2FwZSdcbiAgICAgIHx8IGUua2V5ID09PSAnRXNjJ1xuICAgICAgfHwgZS5rZXlJZGVudGlmaWVyID09PSAnVSswMDFCJ1xuICAgICAgfHwgZS53aGljaCA9PT0gMjdcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2lzU3BhY2UgKGU6IEtleWJvYXJkRXZlbnQgfCBhbnkpIHtcbiAgICBpZiAoZS5jb2RlID09PSAnU3BhY2UnXG4gICAgICB8fCBlLmtleSA9PT0gJyAnXG4gICAgICB8fCBlLmtleSA9PT0gJ1NwYWNlYmFyJ1xuICAgICAgfHwgZS5rZXlJZGVudGlmaWVyID09PSAnVSswMDIwJ1xuICAgICAgfHwgZS53aGljaCA9PT0gMzJcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gMzIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2lzU2hpZnQgKGU6IEtleWJvYXJkRXZlbnQgfCBhbnkpIHtcbiAgICBpZiAoZS5jb2RlID09PSAnU2hpZnRMZWZ0J1xuICAgICAgfHwgZS5jb2RlID09PSAnU2hpZnRSaWdodCdcbiAgICAgIHx8IGUua2V5ID09PSAnU2hpZnQnXG4gICAgICB8fCBlLmtleUlkZW50aWZpZXIgPT09ICdTaGlmdCdcbiAgICAgIHx8IGUud2hpY2ggPT09IDE2XG4gICAgICB8fCBlLmtleUNvZGUgPT09IDE2KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9pc0JhY2tzcGFjZSAoZTogS2V5Ym9hcmRFdmVudCB8IGFueSkge1xuICAgIGlmIChlLmNvZGUgPT09ICdCYWNrc3BhY2UnXG4gICAgICB8fCBlLmtleSA9PT0gJ0JhY2tzcGFjZSdcbiAgICAgIHx8IGUua2V5SWRlbnRpZmllciA9PT0gJ1UrMDAwOCdcbiAgICAgIHx8IGUud2hpY2ggPT09IDhcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gOCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfaXNEZWxldGUgKGU6IEtleWJvYXJkRXZlbnQgfCBhbnkpIHtcbiAgICBpZiAoZS5jb2RlID09PSAnRGVsZXRlJ1xuICAgICAgfHwgZS5rZXkgPT09ICdEZWxldGUnXG4gICAgICB8fCBlLmtleUlkZW50aWZpZXIgPT09ICdVKzAwN0YnXG4gICAgICB8fCBlLndoaWNoID09PSA0NlxuICAgICAgfHwgZS5rZXlDb2RlID09PSA0Nikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfemVybyAoZSk6IG51bWJlciB7XG4gICAgaWYgKGUuY29kZSA9PT0gJ0RpZ2l0MCdcbiAgICAgIHx8IGUuY29kZSA9PT0gJ051bXBhZDAnXG4gICAgICB8fCBlLmtleSA9PT0gMFxuICAgICAgfHwgZS5rZXlDb2RlID09PSA0OFxuICAgICAgfHwgZS5rZXlDb2RlID09PSA5NlxuICAgICAgfHwgZS5rZXlJZGVudGlmaWVyID09PSAnVSswMDMwJ1xuICAgICAgfHwgZS53aGljaCA9PT0gNDgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9vbmUgKGUpOiBudW1iZXIge1xuICAgIGlmIChlLmNvZGUgPT09ICdEaWdpdDEnXG4gICAgICB8fCBlLmNvZGUgPT09ICdOdW1wYWQxJ1xuICAgICAgfHwgZS5rZXkgPT09IDFcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gNDlcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gOTdcbiAgICAgIHx8IGUua2V5SWRlbnRpZmllciA9PT0gJ1UrMDAzMSdcbiAgICAgIHx8IGUud2hpY2ggPT09IDQ5KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfdHdvIChlKTogbnVtYmVyIHtcbiAgICBpZiAoZS5jb2RlID09PSAnRGlnaXQyJ1xuICAgICAgfHwgZS5jb2RlID09PSAnTnVtcGFkMidcbiAgICAgIHx8IGUua2V5ID09PSAyXG4gICAgICB8fCBlLmtleUNvZGUgPT09IDUwXG4gICAgICB8fCBlLmtleUNvZGUgPT09IDk4XG4gICAgICB8fCBlLmtleUlkZW50aWZpZXIgPT09ICdVKzAwMzInXG4gICAgICB8fCBlLndoaWNoID09PSA1MCkge1xuICAgICAgcmV0dXJuIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX3RocmVlIChlKTogbnVtYmVyIHtcbiAgICBpZiAoZS5jb2RlID09PSAnRGlnaXQzJ1xuICAgICAgfHwgZS5jb2RlID09PSAnTnVtcGFkMydcbiAgICAgIHx8IGUua2V5ID09PSAzXG4gICAgICB8fCBlLmtleUNvZGUgPT09IDUxXG4gICAgICB8fCBlLmtleUNvZGUgPT09IDk5XG4gICAgICB8fCBlLmtleUlkZW50aWZpZXIgPT09ICdVKzAwMzMnXG4gICAgICB8fCBlLndoaWNoID09PSA1MSkge1xuICAgICAgcmV0dXJuIDM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2ZvdXIgKGUpOiBudW1iZXIge1xuICAgIGlmIChlLmNvZGUgPT09ICdEaWdpdDQnXG4gICAgICB8fCBlLmNvZGUgPT09ICdOdW1wYWQ0J1xuICAgICAgfHwgZS5rZXkgPT09IDRcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gNTJcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gMTAwXG4gICAgICB8fCBlLmtleUlkZW50aWZpZXIgPT09ICdVKzAwMzQnXG4gICAgICB8fCBlLndoaWNoID09PSA1Mikge1xuICAgICAgcmV0dXJuIDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgc3RhdGljIF9maXZlIChlKTogbnVtYmVyIHtcbiAgICBpZiAoZS5jb2RlID09PSAnRGlnaXQ1J1xuICAgICAgfHwgZS5jb2RlID09PSAnTnVtcGFkNSdcbiAgICAgIHx8IGUua2V5ID09PSA1XG4gICAgICB8fCBlLmtleUNvZGUgPT09IDUzXG4gICAgICB8fCBlLmtleUNvZGUgPT09IDEwMVxuICAgICAgfHwgZS5rZXlJZGVudGlmaWVyID09PSAnVSswMDM1J1xuICAgICAgfHwgZS53aGljaCA9PT0gNTMpIHtcbiAgICAgIHJldHVybiA1O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9zaXggKGUpOiBudW1iZXIge1xuICAgIGlmIChlLmNvZGUgPT09ICdEaWdpdDYnXG4gICAgICB8fCBlLmNvZGUgPT09ICdOdW1wYWQ2J1xuICAgICAgfHwgZS5rZXkgPT09IDZcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gNTRcbiAgICAgIHx8IGUua2V5Q29kZSA9PT0gMTAyXG4gICAgICB8fCBlLmtleUlkZW50aWZpZXIgPT09ICdVKzAwMzYnXG4gICAgICB8fCBlLndoaWNoID09PSA1NCkge1xuICAgICAgcmV0dXJuIDY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX3NldmVuIChlKTogbnVtYmVyIHtcbiAgICBpZiAoZS5jb2RlID09PSAnRGlnaXQ3J1xuICAgICAgfHwgZS5jb2RlID09PSAnTnVtcGFkNydcbiAgICAgIHx8IGUua2V5ID09PSA3XG4gICAgICB8fCBlLmtleUNvZGUgPT09IDU1XG4gICAgICB8fCBlLmtleUNvZGUgPT09IDEwM1xuICAgICAgfHwgZS5rZXlJZGVudGlmaWVyID09PSAnVSswMDM3J1xuICAgICAgfHwgZS53aGljaCA9PT0gNTUpIHtcbiAgICAgIHJldHVybiA3O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9laWdodCAoZSk6IG51bWJlciB7XG4gICAgaWYgKGUuY29kZSA9PT0gJ0RpZ2l0OCdcbiAgICAgIHx8IGUuY29kZSA9PT0gJ051bXBhZDgnXG4gICAgICB8fCBlLmtleSA9PT0gOFxuICAgICAgfHwgZS5rZXlDb2RlID09PSA1NlxuICAgICAgfHwgZS5rZXlDb2RlID09PSAxMDRcbiAgICAgIHx8IGUua2V5SWRlbnRpZmllciA9PT0gJ1UrMDAzOCdcbiAgICAgIHx8IGUud2hpY2ggPT09IDU2KSB7XG4gICAgICByZXR1cm4gODtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfbmluZSAoZSk6IG51bWJlciB7XG4gICAgaWYgKGUuY29kZSA9PT0gJ0RpZ2l0OSdcbiAgICAgIHx8IGUuY29kZSA9PT0gJ051bXBhZDknXG4gICAgICB8fCBlLmtleSA9PT0gOVxuICAgICAgfHwgZS5rZXlDb2RlID09PSA1N1xuICAgICAgfHwgZS5rZXlDb2RlID09PSAxMDVcbiAgICAgIHx8IGUua2V5SWRlbnRpZmllciA9PT0gJ1UrMDAzOSdcbiAgICAgIHx8IGUud2hpY2ggPT09IDU3KSB7XG4gICAgICByZXR1cm4gOTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfaXNFeHBlY3RlZE51bWJlciAoZXhwZWN0ZWQsIGV2ZW50KVxuICAgIDogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGV4cGVjdGVkID09PSBLZXlIZWxwZXIuZ2V0TnVtYmVyRnJvbUtleShldmVudCk7XG4gIH1cblxufVxuXG5leHBvcnQgZW51bSBLRVlTIHtcbiAgJ0VOVEVSJyA9ICdlbnRlcicsXG4gICdVUCcgPSAndXAnLFxuICAnRE9XTicgPSAnZG93bicsXG4gICdMRUZUJyA9ICdsZWZ0JyxcbiAgJ1JJR0hUJyA9ICdyaWdodCcsXG4gICdUQUInID0gJ3RhYicsXG4gICdFU0MnID0gJ2VzYycsXG4gICdTUEFDRScgPSAnc3BhY2UnLFxuICAnU0hJRlQnID0gJ3NoaWZ0JyxcbiAgJ0JBQ0tTUEFDRScgPSAnYmFja3NwYWNlJyxcbiAgJ09ORScgPSAnMScsXG4gICdUV08nID0gJzInLFxuICAnVEhSRUUnID0gJzMnLFxuICAnRk9VUicgPSAnNCcsXG4gICdGSVZFJyA9ICc1JyxcbiAgJ1NJWCcgPSAnNicsXG4gICdTRVZFTicgPSAnNycsXG4gICdFSUdIVCcgPSAnOCcsXG4gICdOSU5FJyA9ICc5JyxcbiAgJ1pFUk8nID0gJzAnLFxuICAnREVMRVRFJyA9ICdkZWxldGUnXG59XG5cbiJdfQ==